{
  "name":"Microsoft - IIS",
  "namespace":"com.microsoft.iis",
  "contentPackId":"com.microsoft.iis",
  "framework":"#9c4",
  "version":"2.4",
  "extractedFields":[ ],
  "queries":[ ],
  "alerts":[ {
    "name":"IIS: Number of Client Connections",
    "info":"<span>Indicates the number of client connections to the web server .&nbsp;</span><br><span>Increased numbers indicate a higher web traffic wherein you should consider load balancing your IIS server.</span><br>",
    "alertType":"RATE_BASED_WITH_GROUPS",
    "chartQuery":"{\"query\":\"\",\"startTimeMillis\":1434427878825,\"endTimeMillis\":1434449478824,\"piqlFunctionGroups\":[{\"functions\":[{\"label\":\"Unique count\",\"value\":\"UCOUNT\",\"requiresField\":true,\"numericOnly\":false}],\"field\":{\"internalName\":\"ms_iis_client_ip\",\"displayName\":\"ms_iis_client_ip\",\"displayNamespace\":null}}],\"dateFilterPreset\":\"CUSTOM\",\"shouldGroupByTime\":false,\"includeAllContentPackFields\":true,\"eventSortOrder\":\"DESC\",\"summarySortOrder\":\"DESC\",\"compareQueryOrderBy\":\"TREND\",\"compareQuerySortOrder\":\"DESC\",\"compareQueryOptions\":null,\"messageViewType\":\"EVENTS\",\"constraintToggle\":\"ALL\",\"piqlFunction\":{\"label\":\"Unique count\",\"value\":\"UCOUNT\",\"requiresField\":true,\"numericOnly\":false},\"piqlFunctionField\":\"ms_iis_client_ip\",\"fieldConstraints\":[{\"internalName\":\"ms_iis_client_ip\",\"operator\":\"EXISTS\"},{\"internalName\":\"ms_iis_server_ip\",\"operator\":\"EXISTS\"},{\"internalName\":\"ms_product\",\"operator\":\"CONTAINS\",\"value\":\"iis\"}],\"supplementalConstraints\":[],\"groupByFields\":[{\"displayName\":\"ms_iis_server_ip\",\"internalName\":\"ms_iis_server_ip\",\"displayNamespace\":null,\"numericGroupByType\":\"EACH_VALUE\",\"numericGroupByValue\":null}],\"contentPacksToIncludeFields\":[],\"extractedFields\":[]}",
    "messageQuery":"",
    "hitCount":1.0,
    "hitOperator":"GREATER_THAN",
    "searchPeriod":21600000,
    "searchInterval":3600000
  }, {
    "name":"IIS: Server too busy",
    "info":"This alert signifies that the server is too busy to serve the incoming request.&nbsp;<br>To prevent it, try by increasing the connection count or load balance the servers",
    "alertType":"RATE_BASED_WITH_GROUPS",
    "chartQuery":"{\"query\":\"\",\"startTimeMillis\":1434445825956,\"endTimeMillis\":1434449425955,\"piqlFunctionGroups\":[{\"functions\":[{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false}],\"field\":null}],\"dateFilterPreset\":\"CUSTOM\",\"shouldGroupByTime\":true,\"includeAllContentPackFields\":true,\"eventSortOrder\":\"DESC\",\"summarySortOrder\":\"DESC\",\"compareQueryOrderBy\":\"TREND\",\"compareQuerySortOrder\":\"DESC\",\"compareQueryOptions\":null,\"messageViewType\":\"EVENTS\",\"constraintToggle\":\"ALL\",\"piqlFunction\":{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false},\"piqlFunctionField\":null,\"fieldConstraints\":[{\"internalName\":\"ms_iis_all_status\",\"operator\":\"EQUAL\",\"value\":\"503\"},{\"internalName\":\"ms_iis_sub_status\",\"operator\":\"EXISTS\"},{\"internalName\":\"ms_product\",\"operator\":\"CONTAINS\",\"value\":\"iis\"}],\"supplementalConstraints\":[],\"groupByFields\":[{\"displayName\":\"ms_iis_all_status\",\"internalName\":\"ms_iis_all_status\",\"displayNamespace\":null,\"numericGroupByType\":\"EACH_VALUE\",\"numericGroupByValue\":null},{\"displayName\":\"ms_iis_sub_status\",\"internalName\":\"ms_iis_sub_status\",\"displayNamespace\":null,\"numericGroupByType\":\"EACH_VALUE\",\"numericGroupByValue\":null}],\"contentPacksToIncludeFields\":[],\"extractedFields\":[]}",
    "messageQuery":"",
    "hitCount":1.0,
    "hitOperator":"GREATER_THAN",
    "searchPeriod":3600000,
    "searchInterval":600000
  }, {
    "name":"IIS: Forbidden Access",
    "info":"<span>Sub status codes for this status provide additional information of this error and are listed below:</span><br><span>403.1: Execute access forbidden (</span><a href=\"http://support.microsoft.com/kb/942065\">942065</a><span>)</span><br><span>403.2: Read access forbidden (</span><a href=\"http://support.microsoft.com/kb/942036\">942036</a><span>)&nbsp;</span><br><span>403.3: Write access forbidden (</span><a href=\"http://support.microsoft.com/kb/942035\">942035</a><span>)&nbsp;</span><br><span>403.4: SSL required (</span><a href=\"http://support.microsoft.com/kb/942070\">942070</a><span>)</span><br><span>403.5: SSL 128 required (</span><a href=\"http://support.microsoft.com/kb/942069\">942069</a><span>)</span><br><span>403.6: IP address rejected (</span><a href=\"http://support.microsoft.com/kb/942068\">942068</a><span>)</span><br><span>403.7: Client certificate required (</span><a href=\"http://support.microsoft.com/kb/942067\">942067</a><span>)</span><br><span>403.8: Site access denied (</span><a href=\"http://support.microsoft.com/kb/942066\">942066</a><span>)</span><br><span>403.9: Forbidden: Too many clients are trying to connect to the web server<br>403.10: Forbidden: web server is configured to deny Execute access<br>403.11: Forbidden: Password has been changed<br>403.12: Mapper denied access (</span><a href=\"http://support.microsoft.com/kb/942064\">942064</a><span>)</span><br><span>403.13: Client certificate revoked (</span><a href=\"http://support.microsoft.com/kb/942063\">942063</a><span>)</span><br><span>403.14: Directory listing denied</span><span>&nbsp;(</span><a href=\"http://support.microsoft.com/kb/942062\">942062</a><span>)</span><br><span>403.15: Forbidden: Client access licenses have exceeded limits on the web server<br>403.16: Client certificate is untrusted or invalid</span><span>&nbsp;(</span><a href=\"http://support.microsoft.com/kb/942061\">942061</a><span>)</span><br><span>403.17: Client certificate has expired or is not yet valid (</span><a href=\"http://support.microsoft.com/kb/942038\">942038</a><span>)</span><br><span>403.18: Cannot execute requested URL in the current application pool (</span><a href=\"http://support.microsoft.com/kb/942037\">942037</a><span>&nbsp;)</span><br><span>403.19: Cannot execute CGI applications for the client in this app pool (</span><a href=\"http://support.microsoft.com/kb/942048\">942048</a><span>)</span><br><span>403.20: Forbidden: Passport logon failed<br>403.21: Forbidden: Source access denied<br>403.22: Forbidden: Infinite depth is denied<br>403.502: Forbidden: Too many requests from the same client IP; Dynamic IP Restriction limit reached</span><br>",
    "alertType":"RATE_BASED",
    "chartQuery":"{\"query\":\"\",\"startTimeMillis\":1434427854875,\"endTimeMillis\":1434449454874,\"piqlFunctionGroups\":[{\"functions\":[{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false}],\"field\":null}],\"dateFilterPreset\":\"CUSTOM\",\"shouldGroupByTime\":true,\"includeAllContentPackFields\":true,\"eventSortOrder\":\"DESC\",\"summarySortOrder\":\"DESC\",\"compareQueryOrderBy\":\"TREND\",\"compareQuerySortOrder\":\"DESC\",\"compareQueryOptions\":null,\"messageViewType\":\"EVENTS\",\"constraintToggle\":\"ALL\",\"piqlFunction\":{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false},\"piqlFunctionField\":null,\"fieldConstraints\":[{\"internalName\":\"ms_iis_all_status\",\"operator\":\"EQUAL\",\"value\":\"403\"},{\"internalName\":\"ms_iis_sub_status\",\"operator\":\"EXISTS\"},{\"internalName\":\"ms_product\",\"operator\":\"CONTAINS\",\"value\":\"iis\"}],\"supplementalConstraints\":[],\"groupByFields\":[{\"displayName\":\"ms_iis_all_status\",\"internalName\":\"ms_iis_all_status\",\"displayNamespace\":null,\"numericGroupByType\":\"EACH_VALUE\",\"numericGroupByValue\":null},{\"displayName\":\"ms_iis_sub_status\",\"internalName\":\"ms_iis_sub_status\",\"displayNamespace\":null,\"numericGroupByType\":\"EACH_VALUE\",\"numericGroupByValue\":null}],\"contentPacksToIncludeFields\":[],\"extractedFields\":[]}",
    "messageQuery":"",
    "hitCount":1.0,
    "hitOperator":"GREATER_THAN",
    "searchPeriod":21600000,
    "searchInterval":3600000
  }, {
    "name":"IIS: Resource not found",
    "info":"<span>The requested page is not available to be served to the user</span><br>",
    "alertType":"RATE_BASED_WITH_GROUPS",
    "chartQuery":"{\"query\":\"\",\"startTimeMillis\":1434427797472,\"endTimeMillis\":1434449397471,\"piqlFunctionGroups\":[{\"functions\":[{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false}],\"field\":{\"internalName\":\"ms_product_iis\",\"displayName\":\"ms_product_iis\",\"displayNamespace\":null}}],\"dateFilterPreset\":\"CUSTOM\",\"shouldGroupByTime\":true,\"includeAllContentPackFields\":true,\"eventSortOrder\":\"DESC\",\"summarySortOrder\":\"DESC\",\"compareQueryOrderBy\":\"TREND\",\"compareQuerySortOrder\":\"DESC\",\"compareQueryOptions\":null,\"messageViewType\":\"EVENTS\",\"constraintToggle\":\"ALL\",\"piqlFunction\":{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false},\"piqlFunctionField\":\"ms_product_iis\",\"fieldConstraints\":[{\"internalName\":\"ms_iis_all_status\",\"operator\":\"EQUAL\",\"value\":\"404\"},{\"internalName\":\"ms_iis_sub_status\",\"operator\":\"EXISTS\"},{\"internalName\":\"ms_product\",\"operator\":\"CONTAINS\",\"value\":\"iis\"}],\"supplementalConstraints\":[],\"groupByFields\":[{\"displayName\":\"ms_iis_all_status\",\"internalName\":\"ms_iis_all_status\",\"displayNamespace\":null,\"numericGroupByType\":\"EACH_VALUE\",\"numericGroupByValue\":null},{\"displayName\":\"ms_iis_sub_status\",\"internalName\":\"ms_iis_sub_status\",\"displayNamespace\":null,\"numericGroupByType\":\"EACH_VALUE\",\"numericGroupByValue\":null}],\"contentPacksToIncludeFields\":[],\"extractedFields\":[]}",
    "messageQuery":"",
    "hitCount":1.0,
    "hitOperator":"GREATER_THAN",
    "searchPeriod":21600000,
    "searchInterval":3600000
  }, {
    "name":"IIS: Anonymous user access",
    "info":"This alert signifies the number of anonymous hits made to the server.<br>This might mean a virus attack or somebody abusing the site.",
    "alertType":"RATE_BASED_WITH_GROUPS",
    "chartQuery":"{\"query\":\"\",\"startTimeMillis\":1434449000797,\"endTimeMillis\":1434449300796,\"piqlFunctionGroups\":[{\"functions\":[{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false}],\"field\":null}],\"dateFilterPreset\":\"CUSTOM\",\"shouldGroupByTime\":true,\"includeAllContentPackFields\":true,\"eventSortOrder\":\"DESC\",\"summarySortOrder\":\"DESC\",\"compareQueryOrderBy\":\"TREND\",\"compareQuerySortOrder\":\"DESC\",\"compareQueryOptions\":null,\"messageViewType\":\"EVENTS\",\"constraintToggle\":\"ALL\",\"piqlFunction\":{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false},\"piqlFunctionField\":null,\"fieldConstraints\":[{\"internalName\":\"ms_iis_username\",\"operator\":\"MATCH\",\"value\":\"-\"},{\"internalName\":\"ms_product\",\"operator\":\"CONTAINS\",\"value\":\"iis\"}],\"supplementalConstraints\":[],\"groupByFields\":[{\"displayName\":\"ms_iis_username\",\"internalName\":\"ms_iis_username\",\"displayNamespace\":null,\"numericGroupByType\":\"EACH_VALUE\",\"numericGroupByValue\":null}],\"contentPacksToIncludeFields\":[],\"extractedFields\":[]}",
    "messageQuery":"",
    "hitCount":1.0,
    "hitOperator":"GREATER_THAN",
    "searchPeriod":300000,
    "searchInterval":60000
  }, {
    "name":"IIS: Access Denied",
    "info":"<span><span>Sub status codes for Status 401 provide additional information of this error and are listed below. Link to possible resolution can be seen in bracket.</span></span><br><span>401.1: Logon failed (<a href=\"http://support.microsoft.com/kb/942044\">942044</a>)<br>401.2: Logon failed due to server configuration (<a href=\"http://support.microsoft.com/kb/942043\">942043</a>)<br>401.3: Unauthorized due to ACL on resource (<a href=\"http://support.microsoft.com/kb/942042\">942042</a>)<br>401.4: Authorization failed by filter (<a href=\"http://support.microsoft.com/kb/942079\">942079</a>)<br>401.5:Authorization failed by ISAPI/CGI application (<a href=\"http://support.microsoft.com/kb/942078\">942078</a>)</span><br>",
    "alertType":"RATE_BASED_WITH_GROUPS",
    "chartQuery":"{\"query\":\"\",\"startTimeMillis\":1434427728158,\"endTimeMillis\":1434449328157,\"piqlFunctionGroups\":[{\"functions\":[{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false}],\"field\":null}],\"dateFilterPreset\":\"CUSTOM\",\"shouldGroupByTime\":true,\"includeAllContentPackFields\":true,\"eventSortOrder\":\"DESC\",\"summarySortOrder\":\"DESC\",\"compareQueryOrderBy\":\"TREND\",\"compareQuerySortOrder\":\"DESC\",\"compareQueryOptions\":null,\"messageViewType\":\"EVENTS\",\"constraintToggle\":\"ALL\",\"piqlFunction\":{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false},\"piqlFunctionField\":null,\"fieldConstraints\":[{\"internalName\":\"ms_iis_all_status\",\"operator\":\"EQUAL\",\"value\":\"401\"},{\"internalName\":\"ms_iis_sub_status\",\"operator\":\"EXISTS\"},{\"internalName\":\"ms_product\",\"operator\":\"CONTAINS\",\"value\":\"iis\"}],\"supplementalConstraints\":[],\"groupByFields\":[{\"displayName\":\"ms_iis_all_status\",\"internalName\":\"ms_iis_all_status\",\"displayNamespace\":null,\"numericGroupByType\":\"EACH_VALUE\",\"numericGroupByValue\":null},{\"displayName\":\"ms_iis_sub_status\",\"internalName\":\"ms_iis_sub_status\",\"displayNamespace\":null,\"numericGroupByType\":\"EACH_VALUE\",\"numericGroupByValue\":null}],\"contentPacksToIncludeFields\":[],\"extractedFields\":[]}",
    "messageQuery":"",
    "hitCount":1.0,
    "hitOperator":"GREATER_THAN",
    "searchPeriod":21600000,
    "searchInterval":3600000
  } ],
  "dashboardSections":[ {
    "views":[ {
      "name":"General - Overview",
      "constraints":[ {
        "internalName":"hostname",
        "operator":"CONTAINS"
      }, {
        "internalName":"ms_iis_server_ip",
        "operator":"CONTAINS"
      }, {
        "internalName":"ms_iis_site_id",
        "operator":"CONTAINS"
      } ],
      "rows":[ {
        "widgets":[ {
          "name":"All IIS events over time",
          "info":"Total number of events received over time.<br>It includes &nbsp;all the successful &nbsp;requests, server errors, client errors and redirection requests made to the IIS server (<a href=\"http://support.microsoft.com/kb/943891\">943891</a>)<br>",
          "gridWidth":"1",
          "chartType":null,
          "chartOptions":"{\"logaxis\":false,\"spline\":false}",
          "widgetType":"chart",
          "chartQuery":"{\"query\":\"\",\"startTimeMillis\":1434448797185,\"endTimeMillis\":1434449647037,\"piqlFunctionGroups\":[{\"functions\":[{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false}],\"field\":null}],\"dateFilterPreset\":\"CUSTOM\",\"shouldGroupByTime\":true,\"includeAllContentPackFields\":true,\"eventSortOrder\":\"DESC\",\"summarySortOrder\":\"DESC\",\"compareQueryOrderBy\":\"TREND\",\"compareQuerySortOrder\":\"DESC\",\"compareQueryOptions\":null,\"messageViewType\":\"EVENTS\",\"constraintToggle\":\"ALL\",\"piqlFunction\":{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false},\"piqlFunctionField\":null,\"fieldConstraints\":[{\"internalName\":\"ms_product\",\"operator\":\"CONTAINS\",\"value\":\"iis\"}],\"supplementalConstraints\":[],\"groupByFields\":[],\"contentPacksToIncludeFields\":[],\"extractedFields\":[]}",
          "messageQuery":""
        } ]
      }, {
        "widgets":[ {
          "name":"IIS events grouped by Server IP",
          "info":"IP address of the server on which the log file entry was generated. This data appears under <b>s-ip</b> field in the log. <span>To\nget the result on this widget ensure that the field <b>s-ip</b> is enabled.\nCheck the IIS content pack description to enable and configure logging and the\nlog format required.</span>",
          "chartType":"pie",
          "chartOptions":"{\"logaxis\":false,\"pielabelstyle\":\"legend\",\"piestyle\":\"normal\"}",
          "widgetType":"chart",
          "chartQuery":"{\"query\":\"\",\"startTimeMillis\":1434448797185,\"endTimeMillis\":1434449674997,\"piqlFunctionGroups\":[{\"functions\":[{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false}],\"field\":null}],\"dateFilterPreset\":\"CUSTOM\",\"shouldGroupByTime\":false,\"includeAllContentPackFields\":true,\"eventSortOrder\":\"DESC\",\"summarySortOrder\":\"DESC\",\"compareQueryOrderBy\":\"TREND\",\"compareQuerySortOrder\":\"DESC\",\"compareQueryOptions\":null,\"messageViewType\":\"EVENTS\",\"constraintToggle\":\"ALL\",\"piqlFunction\":{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false},\"piqlFunctionField\":null,\"fieldConstraints\":[{\"internalName\":\"ms_iis_server_ip\",\"operator\":\"EXISTS\"},{\"internalName\":\"ms_product\",\"operator\":\"CONTAINS\",\"value\":\"iis\"}],\"supplementalConstraints\":[],\"groupByFields\":[{\"displayName\":\"ms_iis_server_ip\",\"internalName\":\"ms_iis_server_ip\",\"displayNamespace\":null,\"numericGroupByType\":\"EACH_VALUE\",\"numericGroupByValue\":null}],\"contentPacksToIncludeFields\":[],\"extractedFields\":[]}",
          "messageQuery":""
        }, {
          "name":"Number of clients per Server",
          "info":"Number of clients accessing a server. A large count could indicate more load on the server.<br>",
          "chartType":"bar",
          "chartOptions":"{\"logaxis\":false,\"pielabelstyle\":\"legend\",\"piestyle\":\"normal\"}",
          "widgetType":"chart",
          "chartQuery":"{\"query\":\"\",\"startTimeMillis\":1434448797185,\"endTimeMillis\":1434449665252,\"piqlFunctionGroups\":[{\"functions\":[{\"label\":\"Unique count\",\"value\":\"UCOUNT\",\"requiresField\":true,\"numericOnly\":false}],\"field\":{\"internalName\":\"ms_iis_client_ip\",\"displayName\":\"ms_iis_client_ip\",\"displayNamespace\":null}}],\"dateFilterPreset\":\"CUSTOM\",\"shouldGroupByTime\":false,\"includeAllContentPackFields\":true,\"eventSortOrder\":\"DESC\",\"summarySortOrder\":\"DESC\",\"compareQueryOrderBy\":\"TREND\",\"compareQuerySortOrder\":\"DESC\",\"compareQueryOptions\":null,\"messageViewType\":\"EVENTS\",\"constraintToggle\":\"ALL\",\"piqlFunction\":{\"label\":\"Unique count\",\"value\":\"UCOUNT\",\"requiresField\":true,\"numericOnly\":false},\"piqlFunctionField\":\"ms_iis_client_ip\",\"fieldConstraints\":[{\"internalName\":\"ms_iis_client_ip\",\"operator\":\"EXISTS\"},{\"internalName\":\"ms_iis_server_ip\",\"operator\":\"EXISTS\"},{\"internalName\":\"ms_product\",\"operator\":\"CONTAINS\",\"value\":\"iis\"}],\"supplementalConstraints\":[],\"groupByFields\":[{\"displayName\":\"ms_iis_server_ip\",\"internalName\":\"ms_iis_server_ip\",\"displayNamespace\":null,\"numericGroupByType\":\"EACH_VALUE\",\"numericGroupByValue\":null}],\"contentPacksToIncludeFields\":[],\"extractedFields\":[]}",
          "messageQuery":""
        } ]
      }, {
        "widgets":[ {
          "name":"All IIS events over time by method type",
          "info":"Indicates the requested method which is an HTTP verb<span>. Following verbs are covered:<br></span>GET, POST, PUT, DELETE<br>HEAD, TRACE, OPTIONS, CONNECT, PATCH<br><br>\n\n<span>This data appears under <b>cs-method</b> field in the log.\nTo get the result on this widget ensure that the field <b>cs-method</b> is enabled.\nCheck the IIS content pack description to enable and configure logging and the\nlog format required.</span><br>\n\n<br><span style=\"font-weight: bold;\">Note:</span>&nbsp;Widget limited to most recent 2000 results",
          "gridWidth":"1",
          "chartType":"number",
          "chartOptions":"{\"logaxis\":true,\"legend\":true,\"stacking\":\"percent\",\"spline\":false}",
          "widgetType":"chart",
          "chartQuery":"{\"query\":\"\",\"startTimeMillis\":1562851414421,\"endTimeMillis\":1562853571000,\"piqlFunctionGroups\":[{\"functions\":[{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false}],\"field\":null}],\"dateFilterPreset\":\"CUSTOM\",\"shouldGroupByTime\":true,\"includeAllContentPackFields\":true,\"eventSortOrder\":\"DESC\",\"summarySortOrder\":\"DESC\",\"compareQueryOrderBy\":\"TREND\",\"compareQuerySortOrder\":\"DESC\",\"compareQueryOptions\":null,\"messageViewType\":\"EVENTS\",\"constraintToggle\":\"ALL\",\"piqlFunction\":{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false},\"piqlFunctionField\":null,\"fieldConstraints\":[{\"internalName\":\"ms_iis_method_type\",\"operator\":\"EXISTS\"},{\"internalName\":\"ms_product\",\"operator\":\"CONTAINS\",\"value\":\"iis\"}],\"supplementalConstraints\":[],\"groupByFields\":[{\"displayName\":\"ms_iis_method_type\",\"internalName\":\"ms_iis_method_type\",\"displayNamespace\":null,\"numericGroupByType\":\"EACH_VALUE\",\"numericGroupByValue\":null}],\"contentPacksToIncludeFields\":[],\"extractedFields\":[]}",
          "messageQuery":""
        } ]
      }, {
        "widgets":[ {
          "name":"All IIS events over time by category",
          "info":"Total events received over time grouped by categories over time.<br>Categories include 1xx, 2xx, 3xx, 4xx (client errors) and 5xx (server errors).<br><br><span>This\ndata appears under <b>sc-status</b> field in the log. To get the result on this\nwidget ensure that the field <b>sc-status</b> is enabled. Check the IIS content\npack description to enable and configure logging and the log format required.</span><br>",
          "gridWidth":"1",
          "chartType":null,
          "chartOptions":"{\"logaxis\":false,\"legend\":true,\"stacking\":\"percent\",\"spline\":false}",
          "widgetType":"chart",
          "chartQuery":"{\"query\":\"\",\"startTimeMillis\":1434448797185,\"endTimeMillis\":1434449722768,\"piqlFunctionGroups\":[{\"functions\":[{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false}],\"field\":null}],\"dateFilterPreset\":\"CUSTOM\",\"shouldGroupByTime\":true,\"includeAllContentPackFields\":true,\"eventSortOrder\":\"DESC\",\"summarySortOrder\":\"DESC\",\"compareQueryOrderBy\":\"TREND\",\"compareQuerySortOrder\":\"DESC\",\"compareQueryOptions\":null,\"messageViewType\":\"EVENTS\",\"constraintToggle\":\"ALL\",\"piqlFunction\":{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false},\"piqlFunctionField\":null,\"fieldConstraints\":[{\"internalName\":\"ms_iis_all_status\",\"operator\":\"EXISTS\"},{\"internalName\":\"ms_product\",\"operator\":\"CONTAINS\",\"value\":\"iis\"}],\"supplementalConstraints\":[],\"groupByFields\":[{\"displayName\":\"ms_iis_all_status\",\"internalName\":\"ms_iis_all_status\",\"displayNamespace\":null,\"numericGroupByType\":\"EACH_VALUE\",\"numericGroupByValue\":null}],\"contentPacksToIncludeFields\":[],\"extractedFields\":[]}",
          "messageQuery":""
        } ]
      }, {
        "widgets":[ {
          "name":"Allocated Port Numbers per Server",
          "info":"The server port number that is configured for each service. Port information from various servers is presented. This helps in finding out unallocated ports.<br><br><span>This\ndata appears under <b>s-port</b> field in the log. To get the result on this widget\nensure that the field <b>s-port</b> is enabled. Check the IIS content pack\ndescription to enable and configure logging and the log format required.</span><br>",
          "gridWidth":"1",
          "chartType":"bubble",
          "chartOptions":"{\"logaxis\":false,\"doublegroupbymultiseries\":true,\"legend\":true,\"swapfields\":false,\"doublegroupbystacking\":\"none\",\"pielabelstyle\":\"legend\",\"piestyle\":\"normal\"}",
          "widgetType":"chart",
          "chartQuery":"{\"query\":\"\",\"startTimeMillis\":1434448797185,\"endTimeMillis\":1434449783849,\"piqlFunctionGroups\":[{\"functions\":[{\"label\":\"Unique count\",\"value\":\"UCOUNT\",\"requiresField\":true,\"numericOnly\":false}],\"field\":{\"internalName\":\"ms_iis_port\",\"displayName\":\"ms_iis_port\",\"displayNamespace\":null}}],\"dateFilterPreset\":\"CUSTOM\",\"shouldGroupByTime\":false,\"includeAllContentPackFields\":true,\"eventSortOrder\":\"DESC\",\"summarySortOrder\":\"DESC\",\"compareQueryOrderBy\":\"TREND\",\"compareQuerySortOrder\":\"DESC\",\"compareQueryOptions\":null,\"messageViewType\":\"EVENTS\",\"constraintToggle\":\"ALL\",\"piqlFunction\":{\"label\":\"Unique count\",\"value\":\"UCOUNT\",\"requiresField\":true,\"numericOnly\":false},\"piqlFunctionField\":\"ms_iis_port\",\"fieldConstraints\":[{\"internalName\":\"ms_iis_server_ip\",\"operator\":\"EXISTS\"},{\"internalName\":\"ms_iis_port\",\"operator\":\"EXISTS\"},{\"internalName\":\"ms_product\",\"operator\":\"CONTAINS\",\"value\":\"iis\"}],\"supplementalConstraints\":[],\"groupByFields\":[{\"displayName\":\"ms_iis_port\",\"internalName\":\"ms_iis_port\",\"displayNamespace\":null,\"numericGroupByType\":\"EACH_VALUE\",\"numericGroupByValue\":null},{\"displayName\":\"ms_iis_server_ip\",\"internalName\":\"ms_iis_server_ip\",\"displayNamespace\":null,\"numericGroupByType\":\"EACH_VALUE\",\"numericGroupByValue\":null}],\"contentPacksToIncludeFields\":[],\"extractedFields\":[]}",
          "messageQuery":""
        } ]
      }, {
        "widgets":[ {
          "name":"Number of sites (virtual domains) per Server",
          "info":"If the server is busy and has many sites, try moving some of the sites to a new server or load balance the server. <br>Note: The agent group with 'custom' postfix need to be enable for make this widget functional.",
          "chartType":"pie",
          "chartOptions":"{\"logaxis\":false,\"pielabelstyle\":\"legend\",\"piestyle\":\"normal\"}",
          "widgetType":"chart",
          "chartQuery":"{\"query\":\"\",\"startTimeMillis\":1434448797185,\"endTimeMillis\":1434450084160,\"piqlFunctionGroups\":[{\"functions\":[{\"label\":\"Unique count\",\"value\":\"UCOUNT\",\"requiresField\":true,\"numericOnly\":false}],\"field\":{\"internalName\":\"ms_iis_site_id\",\"displayName\":\"ms_iis_site_id\",\"displayNamespace\":null}}],\"dateFilterPreset\":\"CUSTOM\",\"shouldGroupByTime\":false,\"includeAllContentPackFields\":true,\"eventSortOrder\":\"DESC\",\"summarySortOrder\":\"DESC\",\"compareQueryOrderBy\":\"TREND\",\"compareQuerySortOrder\":\"DESC\",\"compareQueryOptions\":null,\"messageViewType\":\"EVENTS\",\"constraintToggle\":\"ALL\",\"piqlFunction\":{\"label\":\"Unique count\",\"value\":\"UCOUNT\",\"requiresField\":true,\"numericOnly\":false},\"piqlFunctionField\":\"ms_iis_site_id\",\"fieldConstraints\":[{\"internalName\":\"ms_iis_site_id\",\"operator\":\"EXISTS\"},{\"internalName\":\"ms_iis_server_ip\",\"operator\":\"EXISTS\"},{\"internalName\":\"ms_product\",\"operator\":\"CONTAINS\",\"value\":\"iis\"}],\"supplementalConstraints\":[],\"groupByFields\":[{\"displayName\":\"ms_iis_server_ip\",\"internalName\":\"ms_iis_server_ip\",\"displayNamespace\":null,\"numericGroupByType\":\"EACH_VALUE\",\"numericGroupByValue\":null}],\"contentPacksToIncludeFields\":[],\"extractedFields\":[]}",
          "messageQuery":""
        }, {
          "name":"Page Request Related Queries",
          "info":"List of queries that provide information about the urls present in the logs<br>",
          "chartType":null,
          "chartOptions":null,
          "widgetType":"list",
          "listType":"query",
          "listData":[ {
            "name":"Average response time per url",
            "chartQuery":"{\"query\":\"\",\"startTimeMillis\":1434448797185,\"endTimeMillis\":1434449842404,\"piqlFunctionGroups\":[{\"functions\":[{\"label\":\"Average\",\"value\":\"AVG\",\"requiresField\":true,\"numericOnly\":true}],\"field\":{\"internalName\":\"ms_iis_response_time\",\"displayName\":\"ms_iis_response_time\",\"displayNamespace\":null}}],\"dateFilterPreset\":\"CUSTOM\",\"shouldGroupByTime\":false,\"includeAllContentPackFields\":true,\"eventSortOrder\":\"DESC\",\"summarySortOrder\":\"DESC\",\"compareQueryOrderBy\":\"TREND\",\"compareQuerySortOrder\":\"DESC\",\"compareQueryOptions\":null,\"messageViewType\":\"EVENTS\",\"constraintToggle\":\"ALL\",\"piqlFunction\":{\"label\":\"Average\",\"value\":\"AVG\",\"requiresField\":true,\"numericOnly\":true},\"piqlFunctionField\":\"ms_iis_response_time\",\"fieldConstraints\":[{\"internalName\":\"ms_iis_response_time\",\"operator\":\"EXISTS\"},{\"internalName\":\"ms_iis_url\",\"operator\":\"EXISTS\"},{\"internalName\":\"ms_product\",\"operator\":\"CONTAINS\",\"value\":\"iis\"}],\"supplementalConstraints\":[],\"groupByFields\":[{\"displayName\":\"ms_iis_url\",\"internalName\":\"ms_iis_url\",\"displayNamespace\":null,\"numericGroupByType\":\"EACH_VALUE\",\"numericGroupByValue\":null}],\"contentPacksToIncludeFields\":[],\"extractedFields\":[]}",
            "messageQuery":"",
            "info":"<span>Urls/Pages that take time to load are reported here. Possible candidates for performance optimization</span><br>",
            "options":"{\"chartTypeName\":null,\"chartOptions\":\"{}\"}"
          }, {
            "name":"Number of requests per Page over time",
            "chartQuery":"{\"query\":\"\",\"startTimeMillis\":1434448797185,\"endTimeMillis\":1434449865108,\"piqlFunctionGroups\":[{\"functions\":[{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false}],\"field\":null}],\"dateFilterPreset\":\"CUSTOM\",\"shouldGroupByTime\":true,\"includeAllContentPackFields\":true,\"eventSortOrder\":\"DESC\",\"summarySortOrder\":\"DESC\",\"compareQueryOrderBy\":\"TREND\",\"compareQuerySortOrder\":\"DESC\",\"compareQueryOptions\":null,\"messageViewType\":\"EVENTS\",\"constraintToggle\":\"ALL\",\"piqlFunction\":{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false},\"piqlFunctionField\":null,\"fieldConstraints\":[{\"internalName\":\"ms_iis_url\",\"operator\":\"EXISTS\"},{\"internalName\":\"ms_product\",\"operator\":\"CONTAINS\",\"value\":\"iis\"}],\"supplementalConstraints\":[],\"groupByFields\":[{\"displayName\":\"ms_iis_url\",\"internalName\":\"ms_iis_url\",\"displayNamespace\":null,\"numericGroupByType\":\"EACH_VALUE\",\"numericGroupByValue\":null}],\"contentPacksToIncludeFields\":[],\"extractedFields\":[]}",
            "messageQuery":"",
            "info":"<span>Indicates most frequently accessed pages</span><br>",
            "options":"{\"chartTypeName\":null,\"chartOptions\":\"{\\\"logaxis\\\":false,\\\"legend\\\":true,\\\"stacking\\\":\\\"normal\\\",\\\"spline\\\":false}\"}"
          } ]
        } ]
      } ]
    }, {
      "name":"General - Information",
      "constraints":[ {
        "internalName":"hostname",
        "operator":"CONTAINS"
      }, {
        "internalName":"ms_iis_server_ip",
        "operator":"CONTAINS"
      } ],
      "rows":[ {
        "widgets":[ {
          "name":"Anonymous access to IIS server",
          "info":"It monitors the anonymous users in your website.<br>A higher number of anonymous users can at times be a cause of someone abusing the site<br>",
          "chartType":null,
          "chartOptions":"{\"logaxis\":false,\"legend\":true,\"stacking\":\"normal\",\"spline\":false}",
          "widgetType":"chart",
          "chartQuery":"{\"query\":\"\",\"startTimeMillis\":1434444159724,\"endTimeMillis\":1434447929808,\"piqlFunctionGroups\":[{\"functions\":[{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false}],\"field\":null}],\"dateFilterPreset\":\"CUSTOM\",\"shouldGroupByTime\":true,\"includeAllContentPackFields\":true,\"eventSortOrder\":\"DESC\",\"summarySortOrder\":\"DESC\",\"compareQueryOrderBy\":\"TREND\",\"compareQuerySortOrder\":\"DESC\",\"compareQueryOptions\":null,\"messageViewType\":\"EVENTS\",\"constraintToggle\":\"ALL\",\"piqlFunction\":{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false},\"piqlFunctionField\":null,\"fieldConstraints\":[{\"internalName\":\"ms_iis_username\",\"operator\":\"MATCH\",\"value\":\"-\"},{\"internalName\":\"ms_product\",\"operator\":\"CONTAINS\",\"value\":\"iis\"}],\"supplementalConstraints\":[],\"groupByFields\":[{\"displayName\":\"ms_iis_username\",\"internalName\":\"ms_iis_username\",\"displayNamespace\":null,\"numericGroupByType\":\"EACH_VALUE\",\"numericGroupByValue\":null}],\"contentPacksToIncludeFields\":[],\"extractedFields\":[]}",
          "messageQuery":""
        }, {
          "name":"IIS - User logins",
          "info":"Details about user who accesses the IIS server and the number of hits made per user.<br><br><span>User data appears under <b>cs-username</b> field in the log. To get the result on this\nwidget ensure that the field <b>cs-username</b> is enabled. Check the IIS\ncontent pack description to enable and configure logging and the log format\nrequired.</span><br>",
          "chartType":"number",
          "chartOptions":"{\"logaxis\":false,\"legend\":true,\"stacking\":\"normal\",\"spline\":false}",
          "widgetType":"chart",
          "chartQuery":"{\"query\":\"\",\"startTimeMillis\":1554235200000,\"endTimeMillis\":1563048000000,\"piqlFunctionGroups\":[{\"functions\":[{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false}],\"field\":null}],\"dateFilterPreset\":\"CUSTOM\",\"shouldGroupByTime\":true,\"includeAllContentPackFields\":true,\"eventSortOrder\":\"DESC\",\"summarySortOrder\":\"DESC\",\"compareQueryOrderBy\":\"TREND\",\"compareQuerySortOrder\":\"DESC\",\"compareQueryOptions\":null,\"messageViewType\":\"EVENTS\",\"constraintToggle\":\"ALL\",\"piqlFunction\":{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false},\"piqlFunctionField\":null,\"fieldConstraints\":[{\"internalName\":\"ms_iis_username\",\"operator\":\"NOT_STARTS_WITH\",\"value\":\"-\"},{\"internalName\":\"ms_product\",\"operator\":\"CONTAINS\",\"value\":\"iis\"}],\"supplementalConstraints\":[],\"groupByFields\":[{\"displayName\":\"ms_iis_username\",\"internalName\":\"ms_iis_username\",\"displayNamespace\":null,\"numericGroupByType\":\"EACH_VALUE\",\"numericGroupByValue\":null}],\"contentPacksToIncludeFields\":[],\"extractedFields\":[]}",
          "messageQuery":""
        } ]
      }, {
        "widgets":[ {
          "name":"Number of requests served successfully by server (2xx)",
          "info":"<span>These\nHTTP status codes indicate that the server successfully accepted the request.&nbsp;</span><br>\nIIS 7.0, IIS 7.5, and IIS 8.0&nbsp;use the following success HTTP status codes:<br>\n<span>200: OK. The client request has\nsucceeded<br>\n201: Created<br>\n202: Accepted<br>\n203: Non authoritative information<br>\n204: No content<br>\n205: Reset content<br>\n206: Partial content</span><br>\n<br>",
          "chartType":null,
          "chartOptions":"{\"logaxis\":true,\"legend\":true,\"stacking\":\"percent\",\"spline\":false}",
          "widgetType":"chart",
          "chartQuery":"{\"query\":\"\",\"startTimeMillis\":1434444159724,\"endTimeMillis\":1434447981053,\"piqlFunctionGroups\":[{\"functions\":[{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false}],\"field\":null}],\"dateFilterPreset\":\"CUSTOM\",\"shouldGroupByTime\":true,\"includeAllContentPackFields\":true,\"eventSortOrder\":\"DESC\",\"summarySortOrder\":\"DESC\",\"compareQueryOrderBy\":\"TREND\",\"compareQuerySortOrder\":\"DESC\",\"compareQueryOptions\":null,\"messageViewType\":\"EVENTS\",\"constraintToggle\":\"ALL\",\"piqlFunction\":{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false},\"piqlFunctionField\":null,\"fieldConstraints\":[{\"internalName\":\"ms_iis_all_status\",\"operator\":\"EQUAL\",\"value\":\"200,201,202,203,204,205,206\"},{\"internalName\":\"ms_product\",\"operator\":\"CONTAINS\",\"value\":\"iis\"}],\"supplementalConstraints\":[],\"groupByFields\":[{\"displayName\":\"ms_iis_all_status\",\"internalName\":\"ms_iis_all_status\",\"displayNamespace\":null,\"numericGroupByType\":\"EACH_VALUE\",\"numericGroupByValue\":null}],\"contentPacksToIncludeFields\":[],\"extractedFields\":[]}",
          "messageQuery":""
        }, {
          "name":"IIS server (1xx) and Redirection Info (3xx)",
          "info":"<b><span>1xx&nbsp;- Informational</span></b><span></span><br>\nThese HTTP status codes indicate a provisional response. The client computer\nreceives one or more 1<i style=\"font-style: italic;\">xx</i>&nbsp;responses before the client computer\nreceives a regular response.&nbsp;<br>\n100: Continue<br>\n101: Switching protocols<br>\n<br>\n<b><span>3xx&nbsp;- Redirection</span></b><br>\nThese HTTP status codes indicate that the client browser must take more action\nto fulfill the request. For example, the client browser may have to request a\ndifferent page on the server. Or, the client browser may have to repeat the\nrequest by using a proxy server.&nbsp;<br>\n301: Moved permanently<br>\n302: Object moved<br>\n304: Not modified<br>\n307: Temporary redirect",
          "chartType":null,
          "chartOptions":"{\"logaxis\":true,\"legend\":true,\"stacking\":\"percent\",\"spline\":false}",
          "widgetType":"chart",
          "chartQuery":"{\"query\":\"\",\"startTimeMillis\":1434444159724,\"endTimeMillis\":1434448007403,\"piqlFunctionGroups\":[{\"functions\":[{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false}],\"field\":null}],\"dateFilterPreset\":\"CUSTOM\",\"shouldGroupByTime\":true,\"includeAllContentPackFields\":true,\"eventSortOrder\":\"DESC\",\"summarySortOrder\":\"DESC\",\"compareQueryOrderBy\":\"TREND\",\"compareQuerySortOrder\":\"DESC\",\"compareQueryOptions\":null,\"messageViewType\":\"EVENTS\",\"constraintToggle\":\"ALL\",\"piqlFunction\":{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false},\"piqlFunctionField\":null,\"fieldConstraints\":[{\"internalName\":\"ms_iis_all_status\",\"operator\":\"EQUAL\",\"value\":\"100,101,301,302,304,307\"},{\"internalName\":\"ms_product\",\"operator\":\"CONTAINS\",\"value\":\"iis\"}],\"supplementalConstraints\":[],\"groupByFields\":[{\"displayName\":\"ms_iis_all_status\",\"internalName\":\"ms_iis_all_status\",\"displayNamespace\":null,\"numericGroupByType\":\"EACH_VALUE\",\"numericGroupByValue\":null}],\"contentPacksToIncludeFields\":[],\"extractedFields\":[]}",
          "messageQuery":""
        } ]
      }, {
        "widgets":[ {
          "name":"Average IIS request-response time",
          "info":"Average time taken by the server in milliseconds to complete the request.<br><br>\n\n<span>Time taken\ndata appears under <b>time-taken</b> field in the log. To get the result on this\nwidget ensure that the field <b>time-taken</b> is enabled. Check the IIS\ncontent pack description to enable and configure logging and the log format\nrequired.</span><br>\n\n<br>",
          "chartType":"line",
          "chartOptions":"{\"spline\":false}",
          "widgetType":"chart",
          "chartQuery":"{\"query\":\"\",\"startTimeMillis\":1434444159724,\"endTimeMillis\":1434448023598,\"piqlFunctionGroups\":[{\"functions\":[{\"label\":\"Average\",\"value\":\"AVG\",\"requiresField\":true,\"numericOnly\":true}],\"field\":{\"internalName\":\"ms_iis_response_time\",\"displayName\":\"ms_iis_response_time\",\"displayNamespace\":null}}],\"dateFilterPreset\":\"CUSTOM\",\"shouldGroupByTime\":true,\"includeAllContentPackFields\":true,\"eventSortOrder\":\"DESC\",\"summarySortOrder\":\"DESC\",\"compareQueryOrderBy\":\"TREND\",\"compareQuerySortOrder\":\"DESC\",\"compareQueryOptions\":null,\"messageViewType\":\"EVENTS\",\"constraintToggle\":\"ALL\",\"piqlFunction\":{\"label\":\"Average\",\"value\":\"AVG\",\"requiresField\":true,\"numericOnly\":true},\"piqlFunctionField\":\"ms_iis_response_time\",\"fieldConstraints\":[{\"internalName\":\"ms_iis_response_time\",\"operator\":\"GREATER_THAN\",\"value\":\"0\"}],\"supplementalConstraints\":[],\"groupByFields\":[],\"contentPacksToIncludeFields\":[],\"extractedFields\":[]}",
          "messageQuery":""
        }, {
          "name":"Events over time by user login",
          "info":"Gives the count of events over time for each non-anonymous user<br>",
          "chartType":null,
          "chartOptions":null,
          "widgetType":"list",
          "listType":"query",
          "listData":[ {
            "name":"Number of events per user over time",
            "chartQuery":"{\"query\":\"\",\"startTimeMillis\":1434444159724,\"endTimeMillis\":1434448094352,\"piqlFunctionGroups\":[{\"functions\":[{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false}],\"field\":null}],\"dateFilterPreset\":\"CUSTOM\",\"shouldGroupByTime\":true,\"includeAllContentPackFields\":true,\"eventSortOrder\":\"DESC\",\"summarySortOrder\":\"DESC\",\"compareQueryOrderBy\":\"TREND\",\"compareQuerySortOrder\":\"DESC\",\"compareQueryOptions\":null,\"messageViewType\":\"EVENTS\",\"constraintToggle\":\"ALL\",\"piqlFunction\":{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false},\"piqlFunctionField\":null,\"fieldConstraints\":[{\"internalName\":\"ms_iis_username\",\"operator\":\"NOT_STARTS_WITH\",\"value\":\"-\"},{\"internalName\":\"ms_product\",\"operator\":\"CONTAINS\",\"value\":\"iis\"}],\"supplementalConstraints\":[],\"groupByFields\":[{\"displayName\":\"ms_iis_username\",\"internalName\":\"ms_iis_username\",\"displayNamespace\":null,\"numericGroupByType\":\"EACH_VALUE\",\"numericGroupByValue\":null}],\"contentPacksToIncludeFields\":[],\"extractedFields\":[]}",
            "messageQuery":"",
            "info":"<span>Gives an indication of the requests coming from a user.&nbsp;</span><br>",
            "options":"{\"chartTypeName\":null,\"chartOptions\":\"{\\\"logaxis\\\":false,\\\"legend\\\":true,\\\"stacking\\\":\\\"normal\\\",\\\"spline\\\":false}\"}"
          }, {
            "name":"Number of users per site",
            "chartQuery":"{\"query\":\"\",\"startTimeMillis\":1434444159724,\"endTimeMillis\":1434448185510,\"piqlFunctionGroups\":[{\"functions\":[{\"label\":\"Unique count\",\"value\":\"UCOUNT\",\"requiresField\":true,\"numericOnly\":false}],\"field\":{\"internalName\":\"ms_iis_username\",\"displayName\":\"ms_iis_username\",\"displayNamespace\":null}}],\"dateFilterPreset\":\"CUSTOM\",\"shouldGroupByTime\":false,\"includeAllContentPackFields\":true,\"eventSortOrder\":\"DESC\",\"summarySortOrder\":\"DESC\",\"compareQueryOrderBy\":\"TREND\",\"compareQuerySortOrder\":\"DESC\",\"compareQueryOptions\":null,\"messageViewType\":\"EVENTS\",\"constraintToggle\":\"ALL\",\"piqlFunction\":{\"label\":\"Unique count\",\"value\":\"UCOUNT\",\"requiresField\":true,\"numericOnly\":false},\"piqlFunctionField\":\"ms_iis_username\",\"fieldConstraints\":[{\"internalName\":\"ms_iis_username\",\"operator\":\"EXISTS\"},{\"internalName\":\"ms_iis_site_id\",\"operator\":\"EXISTS\"},{\"internalName\":\"ms_product\",\"operator\":\"CONTAINS\",\"value\":\"iis\"}],\"supplementalConstraints\":[],\"groupByFields\":[{\"displayName\":\"ms_iis_site_id\",\"internalName\":\"ms_iis_site_id\",\"displayNamespace\":null,\"numericGroupByType\":\"EACH_VALUE\",\"numericGroupByValue\":null}],\"contentPacksToIncludeFields\":[],\"extractedFields\":[]}",
            "messageQuery":"",
            "info":"<span>Indicates which site has maximum users connecting to it. Can have a dedicated server for such sites.</span><br>",
            "options":"{\"chartTypeName\":null,\"chartOptions\":\"{\\\"logaxis\\\":false,\\\"pielabelstyle\\\":\\\"legend\\\",\\\"piestyle\\\":\\\"normal\\\"}\"}"
          } ]
        } ]
      } ]
    }, {
      "name":"Client Error (4xx)",
      "constraints":[ {
        "internalName":"hostname",
        "operator":"CONTAINS"
      }, {
        "internalName":"ms_iis_server_ip",
        "operator":"CONTAINS"
      } ],
      "rows":[ {
        "widgets":[ {
          "name":"Client errors (4xx) on IIS server",
          "info":"<span>These HTTP status codes indicate that an error occurred and that the client browser appears to be at fault. For example, the client browser may have requested a page that does not exist. Or, the client browser may not have provided valid authentication information.<br><br>HTTP status code appears under <span style=\"font-weight: bold;\">sc-status</span> field in the log. To get the result on this widget ensure that the field <span style=\"font-weight: bold;\">sc-status</span> is enabled. Check the IIS content pack description to enable and configure logging and the log format required.<br></span><span></span>",
          "chartType":"pie",
          "chartOptions":"{\"logaxis\":false,\"pielabelstyle\":\"legend\",\"piestyle\":\"normal\"}",
          "widgetType":"chart",
          "chartQuery":"{\"query\":\"\",\"startTimeMillis\":1434448377304,\"endTimeMillis\":1434448764449,\"piqlFunctionGroups\":[{\"functions\":[{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false}],\"field\":null}],\"dateFilterPreset\":\"CUSTOM\",\"shouldGroupByTime\":false,\"includeAllContentPackFields\":true,\"eventSortOrder\":\"DESC\",\"summarySortOrder\":\"DESC\",\"compareQueryOrderBy\":\"TREND\",\"compareQuerySortOrder\":\"DESC\",\"compareQueryOptions\":null,\"messageViewType\":\"EVENTS\",\"constraintToggle\":\"ALL\",\"piqlFunction\":{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false},\"piqlFunctionField\":null,\"fieldConstraints\":[{\"internalName\":\"ms_iis_all_status\",\"operator\":\"EQUAL\",\"value\":\"400,401,403,404,405,406,408,412\"},{\"internalName\":\"ms_product\",\"operator\":\"CONTAINS\",\"value\":\"iis\"}],\"supplementalConstraints\":[],\"groupByFields\":[{\"displayName\":\"ms_iis_all_status\",\"internalName\":\"ms_iis_all_status\",\"displayNamespace\":null,\"numericGroupByType\":\"EACH_VALUE\",\"numericGroupByValue\":null}],\"contentPacksToIncludeFields\":[],\"extractedFields\":[]}",
          "messageQuery":""
        }, {
          "name":"Client errors (4xx) on IIS server  over time",
          "info":"<span>These HTTP status codes indicate that an error\noccurred and that the client browser appears to be at fault. For example, the\nclient browser may have requested a page that does not exist. Or, the client\nbrowser may not have provided valid authentication information.</span><span><br></span>",
          "chartType":null,
          "chartOptions":"{\"logaxis\":false,\"legend\":true,\"stacking\":\"normal\",\"spline\":false}",
          "widgetType":"chart",
          "chartQuery":"{\"query\":\"\",\"startTimeMillis\":1434448377304,\"endTimeMillis\":1434448799815,\"piqlFunctionGroups\":[{\"functions\":[{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false}],\"field\":null}],\"dateFilterPreset\":\"CUSTOM\",\"shouldGroupByTime\":true,\"includeAllContentPackFields\":true,\"eventSortOrder\":\"DESC\",\"summarySortOrder\":\"DESC\",\"compareQueryOrderBy\":\"TREND\",\"compareQuerySortOrder\":\"DESC\",\"compareQueryOptions\":null,\"messageViewType\":\"EVENTS\",\"constraintToggle\":\"ALL\",\"piqlFunction\":{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false},\"piqlFunctionField\":null,\"fieldConstraints\":[{\"internalName\":\"ms_iis_all_status\",\"operator\":\"EQUAL\",\"value\":\"400,401,403,404,405,406,408,412\"},{\"internalName\":\"ms_product\",\"operator\":\"CONTAINS\",\"value\":\"iis\"}],\"supplementalConstraints\":[],\"groupByFields\":[{\"displayName\":\"ms_iis_all_status\",\"internalName\":\"ms_iis_all_status\",\"displayNamespace\":null,\"numericGroupByType\":\"EACH_VALUE\",\"numericGroupByValue\":null}],\"contentPacksToIncludeFields\":[],\"extractedFields\":[]}",
          "messageQuery":""
        } ]
      }, {
        "widgets":[ {
          "name":"IIS - Bad Request (400) errors over time",
          "info":"<span><b><span>400 - Bad\nrequest</span></b></span><br>\n\n<span><span>The request could not be understood by the server due to malformed\nsyntax.</span><span>Sub status codes for\nthis status provide additional information of this error and are listed below<span>:<br>\n400.1: Invalid Destination Header</span></span><br>\n400.2: Invalid Depth Header<br>\n400.3: Invalid If Header<br>\n400.4: Invalid Overwrite Header<br>\n400.5: Invalid Translate Header<br>\n400.6: Invalid Request Body<br>\n400.7: Invalid Content Length<br>\n400.8: Invalid Timeout<br>\n400.9: Invalid Lock Token<br>\nFor detailed resolution visit:&nbsp;<a href=\"http://support.microsoft.com/kb/2020943\">2020943</a></span><br>",
          "chartType":null,
          "chartOptions":"{\"logaxis\":true,\"legend\":true,\"stacking\":\"percent\",\"spline\":false}",
          "widgetType":"chart",
          "chartQuery":"{\"query\":\"\",\"startTimeMillis\":1434448681706,\"endTimeMillis\":1434449029381,\"piqlFunctionGroups\":[{\"functions\":[{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false}],\"field\":null}],\"dateFilterPreset\":\"CUSTOM\",\"shouldGroupByTime\":true,\"includeAllContentPackFields\":true,\"eventSortOrder\":\"DESC\",\"summarySortOrder\":\"DESC\",\"compareQueryOrderBy\":\"TREND\",\"compareQuerySortOrder\":\"DESC\",\"compareQueryOptions\":null,\"messageViewType\":\"EVENTS\",\"constraintToggle\":\"ALL\",\"piqlFunction\":{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false},\"piqlFunctionField\":null,\"fieldConstraints\":[{\"internalName\":\"ms_iis_all_status\",\"operator\":\"EQUAL\",\"value\":\"400\"},{\"internalName\":\"ms_iis_sub_status\",\"operator\":\"EXISTS\"},{\"internalName\":\"ms_product\",\"operator\":\"EXISTS\"}],\"supplementalConstraints\":[],\"groupByFields\":[{\"displayName\":\"ms_iis_all_status\",\"internalName\":\"ms_iis_all_status\",\"displayNamespace\":null,\"numericGroupByType\":\"EACH_VALUE\",\"numericGroupByValue\":null},{\"displayName\":\"ms_iis_sub_status\",\"internalName\":\"ms_iis_sub_status\",\"displayNamespace\":null,\"numericGroupByType\":\"EACH_VALUE\",\"numericGroupByValue\":null}],\"contentPacksToIncludeFields\":[],\"extractedFields\":[]}",
          "messageQuery":""
        }, {
          "name":"IIS - Access failure (401) errors over time",
          "info":"<span><b><span>401 - Access\ndenied</span></b><br>\n<span>Sub status codes for this status\nprovide additional information of this error and are listed below. Link to\npossible resolution can be seen in bracket.</span></span><br>\n\n<span><span>401.1</span>: Logon\nfailed (<a href=\"http://support.microsoft.com/kb/942044\">942044</a>)<br>\n<span>401.2</span>: Logon failed due to\nserver configuration (<a href=\"http://support.microsoft.com/kb/942043\">942043</a>)<br>\n401.3: Unauthorized due to ACL on resource (<a href=\"http://support.microsoft.com/kb/942042\">942042</a>)<br>\n<span>401.4</span>: Authorization failed by\nfilter (<a href=\"http://support.microsoft.com/kb/942079\">942079</a>)<br>\n<span>401.5:</span> Authorization failed by ISAPI/CGI\napplication (<a href=\"http://support.microsoft.com/kb/942078\">942078</a>)</span><br>",
          "chartType":null,
          "chartOptions":"{\"logaxis\":true,\"legend\":true,\"stacking\":\"percent\",\"spline\":false}",
          "widgetType":"chart",
          "chartQuery":"{\"query\":\"\",\"startTimeMillis\":1432627130861,\"endTimeMillis\":1434448909517,\"piqlFunctionGroups\":[{\"functions\":[{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false}],\"field\":null}],\"dateFilterPreset\":\"CUSTOM\",\"shouldGroupByTime\":true,\"includeAllContentPackFields\":true,\"eventSortOrder\":\"DESC\",\"summarySortOrder\":\"DESC\",\"compareQueryOrderBy\":\"TREND\",\"compareQuerySortOrder\":\"DESC\",\"compareQueryOptions\":null,\"messageViewType\":\"EVENTS\",\"constraintToggle\":\"ALL\",\"piqlFunction\":{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false},\"piqlFunctionField\":null,\"fieldConstraints\":[{\"internalName\":\"ms_iis_all_status\",\"operator\":\"EQUAL\",\"value\":\"401\"},{\"internalName\":\"ms_iis_sub_status\",\"operator\":\"EXISTS\"},{\"internalName\":\"ms_product\",\"operator\":\"CONTAINS\",\"value\":\"iis\"}],\"supplementalConstraints\":[],\"groupByFields\":[{\"displayName\":\"ms_iis_all_status\",\"internalName\":\"ms_iis_all_status\",\"displayNamespace\":null,\"numericGroupByType\":\"EACH_VALUE\",\"numericGroupByValue\":null},{\"displayName\":\"ms_iis_sub_status\",\"internalName\":\"ms_iis_sub_status\",\"displayNamespace\":null,\"numericGroupByType\":\"EACH_VALUE\",\"numericGroupByValue\":null}],\"contentPacksToIncludeFields\":[],\"extractedFields\":[]}",
          "messageQuery":""
        } ]
      }, {
        "widgets":[ {
          "name":"IIS - Resource Not Found (404) errors over time",
          "info":"<span><b><span>404 - Not found</span></b></span><br>\n\n<span>Sub status codes for\nthis status provide additional information of this error and are listed below:</span><span><br>\n<span>404.0: Not found (</span><a href=\"http://support.microsoft.com/kb/942041\">942041</a>)<br>\n<span>404.1: Site Not Found<br>\n404.2: ISAPI or CGI restriction (</span><a href=\"http://support.microsoft.com/kb/942040\">942040</a>)&nbsp;<br>\n<span>404.3: MIME type restriction (</span><a href=\"http://support.microsoft.com/kb/942032\">942032</a>)<br>\n<span>404.4: No handler configured (</span><a href=\"http://support.microsoft.com/kb/942052\">942052</a>)&nbsp;<br>\n<span>404.5: Denied by request filtering\nconfiguration (</span><a href=\"http://support.microsoft.com/kb/942053\">942053</a>)<br>\n<span>404.6: Verb denied (</span><a href=\"http://support.microsoft.com/kb/942046\">942046</a>)<br>\n<span>404.7: File extension denied (</span><a href=\"http://support.microsoft.com/kb/942045\">942045</a>)<br>\n<span>404.8: Hidden namespace (</span><a href=\"http://support.microsoft.com/kb/942047\">942047</a>)<br>\n<span>404.9: File attribute hidden (</span><a href=\"http://support.microsoft.com/kb/942049\">942049</a>)<br>\n<span>404.10: Request header too long</span>&nbsp;(<a href=\"http://support.microsoft.com/kb/942077\">942077</a>)<br>\n<span>404.11: Request contains double escape\nsequence (</span><a href=\"http://support.microsoft.com/kb/942076\">942076</a>)<br>\n<span>404.12: Request contains high-bit\ncharacters (</span><a href=\"http://support.microsoft.com/kb/942075\">942075</a>)<br>\n<span>404.13: Content length too large (</span><a href=\"http://support.microsoft.com/kb/942074\">942074</a>)<br>\n<span>404.14: Request URL too long (</span><a href=\"http://support.microsoft.com/kb/942073\">942073</a>)<br>\n<span>404.15: Query string too long (</span><a href=\"http://support.microsoft.com/kb/942071\">942071</a>)<br>\n<span>404.16: DAV request sent to the static\nfile handler (</span><a href=\"http://support.microsoft.com/kb/942071\">942071</a>)&nbsp;<br>\n<span>404.17: Dynamic content mapped to the\nstatic file handler via a wildcard MIME mapping (</span><a href=\"http://support.microsoft.com/kb/2019689\">2019689</a>)<br>\n<span>404.18: Query string sequence denied<br>\n404.19: Denied by filtering rule</span><br>\n<span>404.20: Too Many URL Segments</span></span>",
          "chartType":"column",
          "chartOptions":"{\"logaxis\":true,\"legend\":true,\"stacking\":\"percent\",\"spline\":false}",
          "widgetType":"chart",
          "chartQuery":"{\"query\":\"\",\"startTimeMillis\":1434448377304,\"endTimeMillis\":1434448937417,\"piqlFunctionGroups\":[{\"functions\":[{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false}],\"field\":null}],\"dateFilterPreset\":\"CUSTOM\",\"shouldGroupByTime\":true,\"includeAllContentPackFields\":true,\"eventSortOrder\":\"DESC\",\"summarySortOrder\":\"DESC\",\"compareQueryOrderBy\":\"TREND\",\"compareQuerySortOrder\":\"DESC\",\"compareQueryOptions\":null,\"messageViewType\":\"EVENTS\",\"constraintToggle\":\"ALL\",\"piqlFunction\":{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false},\"piqlFunctionField\":null,\"fieldConstraints\":[{\"internalName\":\"ms_iis_all_status\",\"operator\":\"EQUAL\",\"value\":\"404\"},{\"internalName\":\"ms_iis_sub_status\",\"operator\":\"EXISTS\"},{\"internalName\":\"ms_product\",\"operator\":\"CONTAINS\",\"value\":\"iis\"}],\"supplementalConstraints\":[],\"groupByFields\":[{\"displayName\":\"ms_iis_all_status\",\"internalName\":\"ms_iis_all_status\",\"displayNamespace\":null,\"numericGroupByType\":\"EACH_VALUE\",\"numericGroupByValue\":null},{\"displayName\":\"ms_iis_sub_status\",\"internalName\":\"ms_iis_sub_status\",\"displayNamespace\":null,\"numericGroupByType\":\"EACH_VALUE\",\"numericGroupByValue\":null}],\"contentPacksToIncludeFields\":[],\"extractedFields\":[]}",
          "messageQuery":""
        }, {
          "name":"IIS - Forbidden Access (403) errors over time",
          "info":"<span><b><span>403  Forbidden</span></b></span><br>\n\n<span><span>Sub status codes for\nthis status provide additional information of this error and are listed below:</span><br>\n<span>403.1: Execute access forbidden (</span><a href=\"http://support.microsoft.com/kb/942065\">942065</a>)<br>\n<span>403.2: Read access forbidden (</span><a href=\"http://support.microsoft.com/kb/942036\">942036</a>)&nbsp;<br>\n<span>403.3: Write access forbidden (</span><a href=\"http://support.microsoft.com/kb/942035\">942035</a>)&nbsp;<br>\n<span>403.4: SSL required (</span><a href=\"http://support.microsoft.com/kb/942070\">942070</a>)<br>\n<span>403.5: SSL 128 required (</span><a href=\"http://support.microsoft.com/kb/942069\">942069</a>)<br>\n<span>403.6: IP address rejected (</span><a href=\"http://support.microsoft.com/kb/942068\">942068</a>)<br>\n<span>403.7: Client certificate required (</span><a href=\"http://support.microsoft.com/kb/942067\">942067</a>)<br>\n<span>403.8: Site access denied (</span><a href=\"http://support.microsoft.com/kb/942066\">942066</a>)<br>\n<span>403.9: Forbidden: Too many clients are\ntrying to connect to the web server<br>\n403.10: Forbidden: web server is configured to deny Execute access<br>\n403.11: Forbidden: Password has been changed<br>\n403.12: Mapper denied access (</span><a href=\"http://support.microsoft.com/kb/942064\">942064</a>)<br>\n<span>403.13: Client certificate revoked (</span><a href=\"http://support.microsoft.com/kb/942063\">942063</a>)<br>\n<span>403.14: Directory listing denied</span>\n(<a href=\"http://support.microsoft.com/kb/942062\">942062</a>)<br>\n<span>403.15: Forbidden: Client access\nlicenses have exceeded limits on the web server<br>\n403.16: Client certificate is untrusted or invalid</span> (<a href=\"http://support.microsoft.com/kb/942061\">942061</a>)<br>\n<span>403.17: Client certificate has expired\nor is not yet valid (</span><a href=\"http://support.microsoft.com/kb/942038\">942038</a>)<br>\n<span>403.18: Cannot execute requested URL in\nthe current application pool (</span><a href=\"http://support.microsoft.com/kb/942037\">942037</a>&nbsp;)<br>\n<span>403.19: Cannot execute CGI applications\nfor the client in this app pool (</span><a href=\"http://support.microsoft.com/kb/942048\">942048</a>)<br>\n<span>403.20: Forbidden: Passport logon\nfailed<br>\n403.21: Forbidden: Source access denied<br>\n403.22: Forbidden: Infinite depth is denied<br>\n403.502: Forbidden: Too many requests from the same client IP; Dynamic IP\nRestriction limit reached</span></span><br>",
          "chartType":null,
          "chartOptions":"{\"logaxis\":true,\"legend\":true,\"stacking\":\"percent\",\"spline\":false}",
          "widgetType":"chart",
          "chartQuery":"{\"query\":\"\",\"startTimeMillis\":1434448377304,\"endTimeMillis\":1434448965485,\"piqlFunctionGroups\":[{\"functions\":[{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false}],\"field\":null}],\"dateFilterPreset\":\"CUSTOM\",\"shouldGroupByTime\":true,\"includeAllContentPackFields\":true,\"eventSortOrder\":\"DESC\",\"summarySortOrder\":\"DESC\",\"compareQueryOrderBy\":\"TREND\",\"compareQuerySortOrder\":\"DESC\",\"compareQueryOptions\":null,\"messageViewType\":\"EVENTS\",\"constraintToggle\":\"ALL\",\"piqlFunction\":{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false},\"piqlFunctionField\":null,\"fieldConstraints\":[{\"internalName\":\"ms_iis_all_status\",\"operator\":\"EQUAL\",\"value\":\"403\"},{\"internalName\":\"ms_iis_sub_status\",\"operator\":\"EXISTS\"},{\"internalName\":\"ms_product\",\"operator\":\"CONTAINS\",\"value\":\"iis\"}],\"supplementalConstraints\":[],\"groupByFields\":[{\"displayName\":\"ms_iis_all_status\",\"internalName\":\"ms_iis_all_status\",\"displayNamespace\":null,\"numericGroupByType\":\"EACH_VALUE\",\"numericGroupByValue\":null},{\"displayName\":\"ms_iis_sub_status\",\"internalName\":\"ms_iis_sub_status\",\"displayNamespace\":null,\"numericGroupByType\":\"EACH_VALUE\",\"numericGroupByValue\":null}],\"contentPacksToIncludeFields\":[],\"extractedFields\":[]}",
          "messageQuery":""
        } ]
      }, {
        "widgets":[ {
          "name":"IIS - Client Errors over time with no sub-status (405, 406, 408, 412)",
          "info":"<span><b><span>405 - Method Not\nAllowed</span></b></span><br>\n\n<span>The request is made by using an HTTP method that is not\nvalid. For detailed resolution visit: <a href=\"http://support.microsoft.com/kb/942051\">942051</a><br></span><span><b><span>406 - Invalid\nMIME type<i style=\"font-style: italic;\"><u style=\"text-decoration: underline; font-style: italic;\"><br></u></i></span></b>The request is made by using an Accept header that contains\na MIME value that is not valid. For detailed resolution visit: <u style=\"text-decoration: underline;\"><span><a href=\"http://support.microsoft.com/kb/942050\">942050</a></span></u></span><br><span><b><span>408 - Request\ntimed out<i style=\"font-style: italic;\"><u style=\"text-decoration: underline; font-style: italic;\"><br></u></i></span></b>The 408 Request Timeout error is an <u style=\"text-decoration: underline;\">HTTP\nstatus code</u>&nbsp;that means the request you sent to the website server\n(e.g. a request to load a web page) took longer than the website's server was\nprepared to wait. In other words, your connection with the web site \"timed\nout\".</span><br><span><b><span>412 -\nPrecondition failed<i style=\"font-style: italic;\"><u style=\"text-decoration: underline; font-style: italic;\"><br></u></i></span></b>A 412&nbsp;<span>status code indicates that one of the\nconditions the request was made under has failed. The request is made by using\nan If-Match request header that contains a value that is not valid. For\ndetailed resolution visit: <a href=\"http://support.microsoft.com/kb/942056\">942056</a></span></span><br>",
          "gridWidth":"1",
          "chartType":"area",
          "chartOptions":"{\"logaxis\":false,\"legend\":false,\"stacking\":\"normal\",\"spline\":false}",
          "widgetType":"chart",
          "chartQuery":"{\"query\":\"\",\"startTimeMillis\":1434448681706,\"endTimeMillis\":1434448996753,\"piqlFunctionGroups\":[{\"functions\":[{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false}],\"field\":null}],\"dateFilterPreset\":\"CUSTOM\",\"shouldGroupByTime\":true,\"includeAllContentPackFields\":true,\"eventSortOrder\":\"DESC\",\"summarySortOrder\":\"DESC\",\"compareQueryOrderBy\":\"TREND\",\"compareQuerySortOrder\":\"DESC\",\"compareQueryOptions\":null,\"messageViewType\":\"EVENTS\",\"constraintToggle\":\"ALL\",\"piqlFunction\":{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false},\"piqlFunctionField\":null,\"fieldConstraints\":[{\"internalName\":\"ms_iis_all_status\",\"operator\":\"EQUAL\",\"value\":\"405,406,408,412\"},{\"internalName\":\"ms_product\",\"operator\":\"CONTAINS\",\"value\":\"iis\"}],\"supplementalConstraints\":[],\"groupByFields\":[{\"displayName\":\"ms_iis_all_status\",\"internalName\":\"ms_iis_all_status\",\"displayNamespace\":null,\"numericGroupByType\":\"EACH_VALUE\",\"numericGroupByValue\":null}],\"contentPacksToIncludeFields\":[],\"extractedFields\":[]}",
          "messageQuery":""
        } ]
      } ]
    }, {
      "name":"Server Error (5xx)",
      "constraints":[ {
        "internalName":"hostname",
        "operator":"CONTAINS"
      }, {
        "internalName":"ms_iis_server_ip",
        "operator":"CONTAINS"
      } ],
      "rows":[ {
        "widgets":[ {
          "name":"Server error (5xx) on IIS server",
          "info":"<span>These\nHTTP status codes indicate that the server cannot complete the request because\nthe server encountered an error.<br><br></span><span>HTTP status code&nbsp;</span><span>appears under <b>sc-status</b> field in the log. To get the result on this widget\nensure that the field <b>sc-status</b> is enabled. Check the IIS content pack\ndescription to enable and configure logging and the log format required.</span><br>\n\n<br>",
          "chartType":"pie",
          "chartOptions":"{\"logaxis\":false,\"pielabelstyle\":\"legend\",\"piestyle\":\"normal\"}",
          "widgetType":"chart",
          "chartQuery":"{\"query\":\"\",\"startTimeMillis\":1434448797185,\"endTimeMillis\":1434449100026,\"piqlFunctionGroups\":[{\"functions\":[{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false}],\"field\":null}],\"dateFilterPreset\":\"CUSTOM\",\"shouldGroupByTime\":false,\"includeAllContentPackFields\":true,\"eventSortOrder\":\"DESC\",\"summarySortOrder\":\"DESC\",\"compareQueryOrderBy\":\"TREND\",\"compareQuerySortOrder\":\"DESC\",\"compareQueryOptions\":null,\"messageViewType\":\"EVENTS\",\"constraintToggle\":\"ALL\",\"piqlFunction\":{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false},\"piqlFunctionField\":null,\"fieldConstraints\":[{\"internalName\":\"ms_iis_all_status\",\"operator\":\"EQUAL\",\"value\":\"500,501,502,503\"},{\"internalName\":\"ms_product\",\"operator\":\"CONTAINS\",\"value\":\"iis\"}],\"supplementalConstraints\":[],\"groupByFields\":[{\"displayName\":\"ms_iis_all_status\",\"internalName\":\"ms_iis_all_status\",\"displayNamespace\":null,\"numericGroupByType\":\"EACH_VALUE\",\"numericGroupByValue\":null}],\"contentPacksToIncludeFields\":[],\"extractedFields\":[]}",
          "messageQuery":""
        }, {
          "name":"Server error (5xx) on IIS server over time",
          "info":"<span>These\nHTTP status codes indicate that the server cannot complete the request because\nthe server encountered an error.</span>",
          "chartType":null,
          "chartOptions":"{\"logaxis\":false,\"legend\":true,\"stacking\":\"normal\",\"spline\":false}",
          "widgetType":"chart",
          "chartQuery":"{\"query\":\"\",\"startTimeMillis\":1434448797185,\"endTimeMillis\":1434449116257,\"piqlFunctionGroups\":[{\"functions\":[{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false}],\"field\":null}],\"dateFilterPreset\":\"CUSTOM\",\"shouldGroupByTime\":true,\"includeAllContentPackFields\":true,\"eventSortOrder\":\"DESC\",\"summarySortOrder\":\"DESC\",\"compareQueryOrderBy\":\"TREND\",\"compareQuerySortOrder\":\"DESC\",\"compareQueryOptions\":null,\"messageViewType\":\"EVENTS\",\"constraintToggle\":\"ALL\",\"piqlFunction\":{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false},\"piqlFunctionField\":null,\"fieldConstraints\":[{\"internalName\":\"ms_iis_all_status\",\"operator\":\"EQUAL\",\"value\":\"500,501,502,503\"},{\"internalName\":\"ms_product\",\"operator\":\"CONTAINS\",\"value\":\"iis\"}],\"supplementalConstraints\":[],\"groupByFields\":[{\"displayName\":\"ms_iis_all_status\",\"internalName\":\"ms_iis_all_status\",\"displayNamespace\":null,\"numericGroupByType\":\"EACH_VALUE\",\"numericGroupByValue\":null}],\"contentPacksToIncludeFields\":[],\"extractedFields\":[]}",
          "messageQuery":""
        } ]
      }, {
        "widgets":[ {
          "name":" IIS - Internal server error",
          "info":"<b><span>500 - Internal server error<i style=\"font-style: italic;\"><u style=\"text-decoration: underline; font-style: italic;\"><br></u></i></span></b><span>500.0: Module or ISAPI error occurred (</span><span><a href=\"http://support.microsoft.com/kb/942031\">942031</a>)<br>\n<span>500.11: Application is shutting down on\nthe web server<br>\n500.12: Application is busy restarting on the web server<br></span>500.13: Web server is too busy<br>\n500.15: Direct requests for Global.asax are not allowed (</span><a href=\"http://support.microsoft.com/kb/942030\">942030</a>)<br>\n<span>500.19: Configuration data is invalid (</span><a href=\"http://support.microsoft.com/kb/942055\">942055</a>)<br>\n<span>500.21: Module not recognized<br>\n500.22: An ASP.NET httpModules configuration does not apply in Managed Pipeline\nmode<br>\n500.23: An ASP.NET httpHandlers configuration does not apply in Managed\nPipeline mode</span><br>\n<span>500.24: An ASP.NET impersonation\nconfiguration does not apply in Managed Pipeline mode</span><br>\n<span>500.50: A rewrite error occurred during\nRQ_BEGIN_REQUEST notification handling. A configuration or inbound rule\nexecution error occurred</span><br>\n<span>500.51: A rewrite error occurred during\nGL_PRE_BEGIN_REQUEST notification handling. A global configuration or global\nrule execution error occurred</span><br>\n<span>500.52: A rewrite error occurred during\nRQ_SEND_RESPONSE notification handling. An outbound rule execution occurred</span><br>\n<span>500.53: A rewrite error occurred during\nRQ_RELEASE_REQUEST_STATE notification handling. An outbound rule execution\nerror occurred. The rule is configured to be executed before the output user cache\ngets updated</span><br>\n<span>500.100: Internal ASP error (</span><a href=\"http://support.microsoft.com/kb/294271\">294271</a>)",
          "chartType":null,
          "chartOptions":"{\"logaxis\":true,\"legend\":true,\"stacking\":\"percent\",\"spline\":false}",
          "widgetType":"chart",
          "chartQuery":"{\"query\":\"\",\"startTimeMillis\":1434448797185,\"endTimeMillis\":1434449147664,\"piqlFunctionGroups\":[{\"functions\":[{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false}],\"field\":null}],\"dateFilterPreset\":\"CUSTOM\",\"shouldGroupByTime\":true,\"includeAllContentPackFields\":true,\"eventSortOrder\":\"DESC\",\"summarySortOrder\":\"DESC\",\"compareQueryOrderBy\":\"TREND\",\"compareQuerySortOrder\":\"DESC\",\"compareQueryOptions\":null,\"messageViewType\":\"EVENTS\",\"constraintToggle\":\"ALL\",\"piqlFunction\":{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false},\"piqlFunctionField\":null,\"fieldConstraints\":[{\"internalName\":\"ms_iis_all_status\",\"operator\":\"EQUAL\",\"value\":\"500\"},{\"internalName\":\"ms_iis_sub_status\",\"operator\":\"EXISTS\"},{\"internalName\":\"ms_product\",\"operator\":\"CONTAINS\",\"value\":\"iis\"}],\"supplementalConstraints\":[],\"groupByFields\":[{\"displayName\":\"ms_iis_all_status\",\"internalName\":\"ms_iis_all_status\",\"displayNamespace\":null,\"numericGroupByType\":\"EACH_VALUE\",\"numericGroupByValue\":null},{\"displayName\":\"ms_iis_sub_status\",\"internalName\":\"ms_iis_sub_status\",\"displayNamespace\":null,\"numericGroupByType\":\"EACH_VALUE\",\"numericGroupByValue\":null}],\"contentPacksToIncludeFields\":[],\"extractedFields\":[]}",
          "messageQuery":""
        }, {
          "name":"IIS - Config not implemented ",
          "info":"<span><b><span><span>501&nbsp;</span>\nNot Implemented</span></b><br>\nHeader values specify a configuration that is not implemented.<br>\nThe client browser sends an HTTP-Trace verb, and the server is not configured\nto process the HTTP-Trace verb. For detailed resolution visit: <a href=\"http://support.microsoft.com/kb/942058\">942058</a> <br></span>",
          "chartType":null,
          "chartOptions":"{\"logaxis\":true,\"legend\":true,\"stacking\":\"percent\",\"spline\":false}",
          "widgetType":"chart",
          "chartQuery":"{\"query\":\"\",\"startTimeMillis\":1434448797185,\"endTimeMillis\":1434449161176,\"piqlFunctionGroups\":[{\"functions\":[{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false}],\"field\":null}],\"dateFilterPreset\":\"CUSTOM\",\"shouldGroupByTime\":true,\"includeAllContentPackFields\":true,\"eventSortOrder\":\"DESC\",\"summarySortOrder\":\"DESC\",\"compareQueryOrderBy\":\"TREND\",\"compareQuerySortOrder\":\"DESC\",\"compareQueryOptions\":null,\"messageViewType\":\"EVENTS\",\"constraintToggle\":\"ALL\",\"piqlFunction\":{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false},\"piqlFunctionField\":null,\"fieldConstraints\":[{\"internalName\":\"ms_iis_all_status\",\"operator\":\"EQUAL\",\"value\":\"501\"},{\"internalName\":\"ms_iis_sub_status\",\"operator\":\"EXISTS\"},{\"internalName\":\"ms_product\",\"operator\":\"CONTAINS\",\"value\":\"iis\"}],\"supplementalConstraints\":[],\"groupByFields\":[{\"displayName\":\"ms_iis_all_status\",\"internalName\":\"ms_iis_all_status\",\"displayNamespace\":null,\"numericGroupByType\":\"EACH_VALUE\",\"numericGroupByValue\":null},{\"displayName\":\"ms_iis_sub_status\",\"internalName\":\"ms_iis_sub_status\",\"displayNamespace\":null,\"numericGroupByType\":\"EACH_VALUE\",\"numericGroupByValue\":null}],\"contentPacksToIncludeFields\":[],\"extractedFields\":[]}",
          "messageQuery":""
        } ]
      }, {
        "widgets":[ {
          "name":"IIS - Invalid Response",
          "info":"<span><b><span><span>502 - Web\nserver received an invalid response while acting as a gateway or proxy</span></span></b><br>\n<span>502.1: CGI application timeout (</span><a href=\"http://support.microsoft.com/kb/942059\">942059</a><span>)<br>\n502.2: Bad gateway: Premature Exit (</span><a href=\"http://support.microsoft.com/kb/942057\">942057</a><span>)</span><br>\n<span>502.3: Bad Gateway: Forwarder\nConnection Error (ARR)<br>\n502.4: Bad Gateway: No Server (ARR)</span></span>",
          "chartType":null,
          "chartOptions":"{\"logaxis\":true,\"legend\":true,\"stacking\":\"percent\",\"spline\":false}",
          "widgetType":"chart",
          "chartQuery":"{\"query\":\"\",\"startTimeMillis\":1434448797185,\"endTimeMillis\":1434449183752,\"piqlFunctionGroups\":[{\"functions\":[{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false}],\"field\":null}],\"dateFilterPreset\":\"CUSTOM\",\"shouldGroupByTime\":true,\"includeAllContentPackFields\":true,\"eventSortOrder\":\"DESC\",\"summarySortOrder\":\"DESC\",\"compareQueryOrderBy\":\"TREND\",\"compareQuerySortOrder\":\"DESC\",\"compareQueryOptions\":null,\"messageViewType\":\"EVENTS\",\"constraintToggle\":\"ALL\",\"piqlFunction\":{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false},\"piqlFunctionField\":null,\"fieldConstraints\":[{\"internalName\":\"ms_iis_all_status\",\"operator\":\"EQUAL\",\"value\":\"502\"},{\"internalName\":\"ms_iis_sub_status\",\"operator\":\"EXISTS\"},{\"internalName\":\"ms_product\",\"operator\":\"CONTAINS\",\"value\":\"iis\"}],\"supplementalConstraints\":[],\"groupByFields\":[{\"displayName\":\"ms_iis_all_status\",\"internalName\":\"ms_iis_all_status\",\"displayNamespace\":null,\"numericGroupByType\":\"EACH_VALUE\",\"numericGroupByValue\":null},{\"displayName\":\"ms_iis_sub_status\",\"internalName\":\"ms_iis_sub_status\",\"displayNamespace\":null,\"numericGroupByType\":\"EACH_VALUE\",\"numericGroupByValue\":null}],\"contentPacksToIncludeFields\":[],\"extractedFields\":[]}",
          "messageQuery":""
        }, {
          "name":"IIS - Service unavilable",
          "info":"<b><span>503 - Service unavailable<i style=\"font-style: italic;\"><u style=\"text-decoration: underline; font-style: italic;\"><br></u></i></span></b><span></span>Following\nsub status code provide more details of this kind of error. For detailed\nresolution visit:&nbsp;<a href=\"http://support.microsoft.com/kb/2619402\">2619402</a><br>\n<span>503.0: Application pool unavailable</span><br>\n<span>503.2: Concurrent request limit\nexceeded<br>\n503.3: ASP.NET queue full</span>",
          "chartType":null,
          "chartOptions":"{\"logaxis\":true,\"legend\":true,\"stacking\":\"percent\",\"spline\":false}",
          "widgetType":"chart",
          "chartQuery":"{\"query\":\"\",\"startTimeMillis\":1434448797185,\"endTimeMillis\":1434449209062,\"piqlFunctionGroups\":[{\"functions\":[{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false}],\"field\":null}],\"dateFilterPreset\":\"CUSTOM\",\"shouldGroupByTime\":true,\"includeAllContentPackFields\":true,\"eventSortOrder\":\"DESC\",\"summarySortOrder\":\"DESC\",\"compareQueryOrderBy\":\"TREND\",\"compareQuerySortOrder\":\"DESC\",\"compareQueryOptions\":null,\"messageViewType\":\"EVENTS\",\"constraintToggle\":\"ALL\",\"piqlFunction\":{\"label\":\"Count\",\"value\":\"COUNT\",\"requiresField\":false,\"numericOnly\":false},\"piqlFunctionField\":null,\"fieldConstraints\":[{\"internalName\":\"ms_iis_all_status\",\"operator\":\"EQUAL\",\"value\":\"503\"},{\"internalName\":\"ms_iis_sub_status\",\"operator\":\"EXISTS\"},{\"internalName\":\"ms_product\",\"operator\":\"CONTAINS\",\"value\":\"iis\"}],\"supplementalConstraints\":[],\"groupByFields\":[{\"displayName\":\"ms_iis_all_status\",\"internalName\":\"ms_iis_all_status\",\"displayNamespace\":null,\"numericGroupByType\":\"EACH_VALUE\",\"numericGroupByValue\":null},{\"displayName\":\"ms_iis_sub_status\",\"internalName\":\"ms_iis_sub_status\",\"displayNamespace\":null,\"numericGroupByType\":\"EACH_VALUE\",\"numericGroupByValue\":null}],\"contentPacksToIncludeFields\":[],\"extractedFields\":[]}",
          "messageQuery":""
        } ]
      } ]
    } ],
    "header":""
  } ],
  "agentClasses":[ {
    "name":"Microsoft - IIS v7.x",
    "info":"<span style=\"font-weight: bold;\">IMPORTANT:</span>&nbsp;Some of the directory paths specified in this agent configuration may need to be changed to match your exact environment. Please see the comments within each section for more information.<br><br>This is the agent group configuration for&nbsp;<span style=\"font-weight: bold;\">Windows - IIS v7.x</span>.<br>You can find this under&nbsp;<span style=\"font-weight: bold;\">Administration -&gt; Management -&gt; Agents -&gt; All Agents</span>&nbsp;drop down.<br>To apply,copy this template to active groups , add filters and save.<br><br><span>This agent group config based on the W3C Logging fields enabled by default on the IIS v7.x version which is mandatory to make this agent group configuration functional.&nbsp;<br></span><span>Please note that for the correct parsing, fields generation order in the log file should be the following:</span><br><span>- date (Data)<br></span><span>- time (Time)<br></span><span>- s-ip (Server IP Address)<br></span><span>- cs-method (Method)<br></span><span>- cs-uri-stem (URI Stream)<br></span><span>- cs-uri-query (URI Query)<br></span><span>- s-port (Server Port)<br></span><span>- cs-username (User Name)<br></span><span>- c-ip (Client IP Address)<br></span><span>- cs(User-Agent) (User agent)<br></span><span>- sc-status (Protocol Status)<br></span><span>- sc-substatus (Protocol Substatus)<br></span><span>- sc-win32-status (Win 32 Status)<br></span><span>- time-taken (Time Taken)<br></span><span>- x-forwarded-for (Client IP if X-Forwarded-For is enabled) - Optional</span>",
    "agentConfig":"[filelog|IISv7x]\n; IMPORTANT: Change the directory as per the environment\ndirectory=C:\\inetpub\\logs\\LogFiles\\W3SVC1\\\ninclude=*.log\nevent_marker=^\\d{4}-\\d{2}-\\d{2}\ntags={\"ms_product\":\"iis\"}\nparser=iis-v7x-LogParser\n\n[parser|iis-v7x-LogParser]\nbase_parser=csv\ndelimiter=\" \"\nfields=ms_iis_date,ms_iis_time,ms_iis_server_ip,ms_iis_method_type,ms_iis_url,ms_iis_url_query,ms_iis_port,ms_iis_username,ms_iis_client_ip,ms_iis_cs_user_agent,ms_iis_all_status,ms_iis_sub_status,,ms_iis_response_time\nnext_parser=iis-v7x-LogParser1\n\n[parser|iis-v7x-LogParser1]\nbase_parser=csv\ndelimiter=\" \"\nfields=ms_iis_date,ms_iis_time,ms_iis_server_ip,ms_iis_method_type,ms_iis_url,ms_iis_url_query,ms_iis_port,ms_iis_username,ms_iis_client_ip,ms_iis_cs_user_agent,ms_iis_all_status,ms_iis_sub_status,,ms_iis_response_time,ms_iis_x_forwarded_for\n"
  }, {
    "name":"Microsoft - IIS v7.x (custom)",
    "info":"<span style=\"font-weight: bold;\">This agent group is functional if the \"Server Name (s-sitename) filed is enabled in W3C logging config in addition of the default fields.<br><br>IMPORTANT:</span>&nbsp;Some of the directory paths specified in this agent configuration may need to be changed to match your exact environment. Please see the comments within each section for more information.<br><br>This is the agent group configuration for&nbsp;<span style=\"font-weight: bold;\">Windows - IIS v7.x</span>.<br>You can find this under&nbsp;<span style=\"font-weight: bold;\">Administration -&gt; Management -&gt; Agents -&gt; All Agents</span>&nbsp;drop down.<br>To apply, copy this template to active groups, add filters and save.<br><br><span>This agent group config based on the W3C Logging fields enabled by default on the IIS v7.x version + \"Server Name (s-sitename) filed that need to be manually enable.<br></span><span>Please note that for the correct parsing, fields generation order in the log file should be the following:</span><br><span>- date (Data)<br></span><span>- time (Time)<br></span><span>- s-sitename (Server Name)<br></span><span>- s-ip (Server IP Address)<br></span><span>- cs-method (Method)<br></span><span>- cs-uri-stem (URI Stream)<br></span><span>- cs-uri-query (URI Query)<br></span><span>- s-port (Server Port)<br></span><span>- cs-username (User Name)<br></span><span>- c-ip (Client IP Address)<br></span><span>- cs(User-Agent) (User agent)<br></span><span>- sc-status (Protocol Status)<br></span><span>- sc-substatus (Protocol Substatus)<br></span><span>- sc-win32-status (Win 32 Status)<br></span><span>- time-taken (Time Taken)<br></span><span>- </span>x-forwarded-for (Client IP if X-Forwarded-For is enabled) - Optional",
    "agentConfig":"[filelog|IISv7x-custom]\n; IMPORTANT: Change the directory as per the environment\ndirectory=C:\\inetpub\\logs\\LogFiles\\W3SVC1\\\ninclude=*.log\nevent_marker=^\\d{4}-\\d{2}-\\d{2}\ntags={\"ms_product\":\"iis\"}\nparser=iis-v7x-custom-LogParser\n\n[parser|iis-v7x-custom-LogParser]\nbase_parser=csv\ndelimiter=\" \"\nfields=ms_iis_date,ms_iis_time,ms_iis_site_id,ms_iis_server_ip,ms_iis_method_type,ms_iis_url,ms_iis_url_query,ms_iis_port,ms_iis_username,ms_iis_client_ip,ms_iis_cs_user_agent,ms_iis_all_status,ms_iis_sub_status,,ms_iis_response_time\nnext_parser=iis-v7x-custom-LogParser1\n\n[parser|iis-v7x-custom-LogParser1]\nbase_parser=csv\ndelimiter=\" \"\nfields=ms_iis_date,ms_iis_time,ms_iis_site_id,ms_iis_server_ip,ms_iis_method_type,ms_iis_url,ms_iis_url_query,ms_iis_port,ms_iis_username,ms_iis_client_ip,ms_iis_cs_user_agent,ms_iis_all_status,ms_iis_sub_status,,ms_iis_response_time,ms_iis_x_forwarded_for\n"
  }, {
    "name":"Microsoft - IIS v8.x, v10",
    "info":"<span style=\"font-weight: bold;\">IMPORTANT:</span>&nbsp;Some of the directory paths specified in this agent configuration may need to be changed to match your exact environment. Please see the comments within each section for more information.<br><br>This is the agent group configuration for&nbsp;<span style=\"font-weight: bold;\">Windows - IIS v8.x, v10</span>.<br>You can find this under&nbsp;<span style=\"font-weight: bold;\">Administration -&gt; Management -&gt; Agents -&gt; All Agents</span>&nbsp;drop down.<br>To apply,copy this template to active groups , add filters and save.<br><br><span>This agent group config based on the W3C Logging fields enabled by default on the IIS v8.x, v10 versions which is mandatory to make this agent group configuration functional.&nbsp;<br></span><span>Please note that for the correct parsing fields generation order in the log file should be the following:</span><br><span>- date (Data)</span><span>- time (Time)<br></span><span>- s-ip (Server IP Address)<br></span><span>- cs-method (Method)<br></span><span>- cs-uri-stem (URI Stream)<br></span><span>- cs-uri-query (URI Query)<br></span><span>- s-port (Server Port<br></span><span>- cs-username (User Name)<br></span><span>- c-ip (Client IP Address)<br></span><span>- cs(User-Agent) (User agent)<br></span><span>- cs(Referer) (Referer)<br></span><span>- sc-status (Protocol Status)<br></span><span>- sc-substatus (Protocol Substatus)<br></span><span>- sc-win32-status (Win 32 Status)<br></span><span>- time-taken (Time Taken)<br></span><span>-&nbsp;</span>x-forwarded-for (Client IP if X-Forwarded-For is enabled) - Optional",
    "agentConfig":"[filelog|IISv10]\n; IMPORTANT: Change the directory as per the environment\ndirectory=C:\\inetpub\\logs\\LogFiles\\W3SVC1\\\ninclude=*.log\nevent_marker=^\\d{4}-\\d{2}-\\d{2}\ntags={\"ms_product\":\"iis\"}\nparser=iis-v10-LogParser\n\n[parser|iis-v10-LogParser]\nbase_parser=csv\ndelimiter=\" \"\nfields=ms_iis_date,ms_iis_time,ms_iis_server_ip,ms_iis_method_type,ms_iis_url,ms_iis_url_query,ms_iis_port,ms_iis_username,ms_iis_client_ip,ms_iis_cs_user_agent,ms_iis_cs_referer,ms_iis_all_status,ms_iis_sub_status,,ms_iis_response_time\nnext_parser=iis-v10-LogParser1\n\n[parser|iis-v10-LogParser1]\nbase_parser=csv\ndelimiter=\" \"\nfields=ms_iis_date,ms_iis_time,ms_iis_server_ip,ms_iis_method_type,ms_iis_url,ms_iis_url_query,ms_iis_port,ms_iis_username,ms_iis_client_ip,ms_iis_cs_user_agent,ms_iis_cs_referer,ms_iis_all_status,ms_iis_sub_status,,ms_iis_response_time,ms_iis_x_forwarded_for\n"
  }, {
    "name":"Microsoft - IIS v8.x, v10 (custom)",
    "info":"<span style=\"font-weight: bold;\">This agent group is functional if the \"Server Name (s-sitename) filed is enabled in W3C logging config in addition of the default fields.<br><br>IMPORTANT:</span>&nbsp;Some of the directory paths specified in this agent configuration may need to be changed to match your exact environment. Please see the comments within each section for more information.<br><br>This is the agent group configuration for&nbsp;<span style=\"font-weight: bold;\">Windows - IIS v8.x, v10</span>.<br>You can find this under&nbsp;<span style=\"font-weight: bold;\">Administration -&gt; Management -&gt; Agents -&gt; All Agents</span>&nbsp;drop down.<br>To apply, copy this template to active groups, add filters and save.<br><br><span>This agent group config based on the W3C Logging fields enabled by default on the IIS v8.x, v10 versions + \"Server Name (s-sitename) filed that need to be manually enable.<br></span><span>Please note that for the correct parsing fields generation order in the log file should be the following:<br></span><span>- </span><span>date (Data)<br></span><span>- time (Time)<br></span><span>- s-sitename (Server Name)<br></span><span>- s-ip (Server IP Address)<br></span><span>- cs-method (Method)<br></span><span>- cs-uri-stem (URI Stream)<br></span><span>- cs-uri-query (URI Query)<br></span><span>- s-port (Server Port)<br></span><span>- cs-username (User Name)<br></span><span>- c-ip (Client IP Address)<br></span><span>- cs(User-Agent) (User agent)<br></span><span>- cs(Referer) (Referer)<br></span><span>- sc-status (Protocol Status)<br></span><span>- sc-substatus (Protocol Substatus)<br></span><span>- sc-win32-status (Win 32 Status)<br></span><span>- time-taken (Time Taken)<br></span>- x-forwarded-for (Client IP if X-Forwarded-For is enabled) - Optional",
    "agentConfig":"[filelog|IISv10-custom]\n; IMPORTANT: Change the directory as per the environment\ndirectory=C:\\inetpub\\logs\\LogFiles\\W3SVC1\\\ninclude=*.log\nevent_marker=^\\d{4}-\\d{2}-\\d{2}\ntags={\"ms_product\":\"iis\"}\nparser=iis-v10-custom-LogParser\n\n[parser|iis-v10-custom-LogParser]\nbase_parser=csv\ndelimiter=\" \"\nfields=ms_iis_date,ms_iis_time,ms_iis_site_id,ms_iis_server_ip,ms_iis_method_type,ms_iis_url,ms_iis_url_query,ms_iis_port,ms_iis_username,ms_iis_client_ip,ms_iis_cs_user_agent,ms_iis_cs_referer,ms_iis_all_status,ms_iis_sub_status,,ms_iis_response_time\nnext_parser=iis-v10-custom-LogParser1\n\n[parser|iis-v10-custom-LogParser1]\nbase_parser=csv\ndelimiter=\" \"\nfields=ms_iis_date,ms_iis_time,ms_iis_site_id,ms_iis_server_ip,ms_iis_method_type,ms_iis_url,ms_iis_url_query,ms_iis_port,ms_iis_username,ms_iis_client_ip,ms_iis_cs_user_agent,ms_iis_cs_referer,ms_iis_all_status,ms_iis_sub_status,,ms_iis_response_time,ms_iis_x_forwarded_for\n"
  } ],
  "aliasFields":[ ],
  "aliasRules":[ ],
  "author":"VMware, Inc.",
  "url":"http://www.vmware.com",
  "contentVersion":"3.4",
  "info":"<span>The content pack for Microsoft IIS provides you with information about key entities of any IIS installations health using Log Insights ability to&nbsp;</span>collect events from one or more log files.<br><br>Log Insight offers very intuitive graphical representation, especially with regards to log events. Spikes in the number and types of messages received can be flagged as events with external notifications. System administrators can drill into these events for looking at where and why these are being generated.<br><br>The Microsoft&nbsp;IIS<span>&nbsp;Content pack&nbsp;<span>includes 4 dashboards with a total of 27 widgets and 6 alarms</span>. The content pack enables the user to monitor the IIS server in an easily readable graphical form. It provides:<br><br>&nbsp;<span style=\"font-weight: bold;\">O</span><span style=\"font-weight: bold;\">verview of IIS server:&nbsp;</span>This includes monitoring the count of all events and error events over time. It also gives you information about the source (client IP) from where the request originates and the destination (server IP) which serves it along with average response time of the IIS server.<br><span style=\"font-weight: bold;\"><br>&nbsp;General Information:&nbsp;</span>User can view the number of requests successfully served by the server along with any URL redirection info. Also gives information about the number of hits from a user along with the number of anonymous hits to your IIS server.<br><br></span><span style=\"font-weight: bold;\">&nbsp;Error Monitoring:&nbsp;</span>This includes monitoring various client and server errors encountered on your IIS server.",
  "instructions":"<span style=\"font-weight: bold; text-decoration-line: underline;\">IIS Prerequisites:<br></span><br>IIS content pack uses logs in W3C format and functional with the fields that that is enabled by default in the IIS.&nbsp;<br>I<span style=\"font-weight: bold;\">MPORTANT:</span> Please look at each agent group configurations for mandatory W3C filed that are necessary for each IIS versions.&nbsp;&nbsp;<br><br>To enable and customize IIS logs:<br><a href=\"http://support.microsoft.com/kb/313437\">http://support.microsoft.com/kb/313437</a><br><br>How to log client original IP when IIS is load balanced:<br><a href=\"https://blogs.msdn.microsoft.com/webapps/2018/09/05/how-to-log-client-ip-when-iis-is-load-balanced-the-x-forwarded-for-header-xff/\">the X-Forwarded-For Header (XFF)</a><br><br><b><span style=\"text-decoration-line: underline;\">Log Insight Agent Configuration:</span></b><br><b><br></b>The&nbsp;<span style=\"font-style: italic;\">Microsoft - IIS</span>&nbsp;content\n pack requires the use of the Log Insight agent with the cfapi protocol \n(default) and the included agent group configuration. <br><br>There are the following agent group configuration. Please enable agent group that is required by your IIS server version.<br><br><span>For the IIS version v8.x, v10 default W3C fields.&nbsp;</span><span>- <span style=\"font-weight: bold;\">Microsoft - IIS v8.x, v10</span>&nbsp;</span><span><br>For the IIS version v7.x default W3C fields.&nbsp;<br></span><span>- <span style=\"font-weight: bold;\">Microsoft - IIS v7.x&nbsp;</span></span><span><br>For the IIS version v8.x, v10 default W3C fields plus \"Server Name (s-sitename) filed in case of manually enable.<br></span><span>- <span style=\"font-weight: bold;\">Microsoft - IIS v8.x, v10 (custom)</span></span><span><br>For the IIS version v7.x default W3C fields plus \"Server Name (s-sitename) filed in case of manually enable</span><span> - <span style=\"font-weight: bold;\">Microsoft - IIS v7.x (custom)</span></span><br><br>To apply the agent group configuration:<br>&nbsp;Go to the&nbsp;<span style=\"font-style: italic;\"><a href=\"https://10.152.157.120/admin/agents\">Administration &gt; Agents</a>&nbsp;</span>page (requires Super Admin privileges)<br>&nbsp;Select the<span style=\"font-weight: bold;\">&nbsp;</span><span style=\"font-style: italic;\">All Agents</span><b>&nbsp;</b>drop-down at the top of the window and select the&nbsp;<span style=\"font-style: italic;\">Copy Template</span><b>&nbsp;</b>button to the right of the&nbsp;\"<span style=\"font-style: italic;\">Microsoft - IIS...\"</span><span> necessary&nbsp;</span>agent group<br>&nbsp;Add the desired filters to restrict which agent receive the configuration (optional)<br>&nbsp;Select the&nbsp;<span style=\"font-style: italic;\">Refresh</span>&nbsp;button at the top of the page<br>&nbsp;Check the agent group configuration for comments requiring user intervention and adjust as necessary<br><span>&nbsp;Select the&nbsp;<span style=\"font-style: italic;\">Save Configuration</span>&nbsp;button at the bottom of the page</span><br><br><span style=\"font-weight: bold; text-decoration: underline;\">How to update agent group configuration for W3C custom fields.</span><span><br>&nbsp;Currently the agent group configuration that is provided in the IIS content pack is valid only for&nbsp; W3C fields that are enabled by default in the IIS. The agent groups configuration file should be updated every time a new field is added to IIS logging.<br>The following instructions help properly enable new fields and get them correctly parsed with vRLI.<br>1.&nbsp; Identify what additional fields you need to be added to IIS logging. <br>2. Navigate to the IIS log configuration file and enable checkbox next to the fields to add (for details use Microsoft doc <a href=\"https://docs.microsoft.com/en-US/iis/manage/provisioning-and-managing-iis/configure-logging-in-iis\">https://docs.microsoft.com/en-US/iis/manage/provisioning-and-managing-iis/configure-logging-in-iis</a>). Pay attention to the order of the enabled fields.<br>3.&nbsp;&nbsp;&nbsp; The next step is to update the agent group configuration to include the newly added fields. <br> Navigate to the&nbsp; Administration &gt; Agents page (requires Super Admin privileges)<br> Select the All Agents drop-down at the top of the window and select \"Microsoft - IIS...\" agent group (make sure to select the IIS version that you have)<br> Switch to Edit mode after the selecting the agent group.<br> Find the line which starts with fields= under the parser|. section. The names that come after = and separated by commas are used by the parser to assign corresponding values. Below is a sample line for reference: <br>fields=ms_iis_date,ms_iis_time,ms_iis_server_ip,ms_iis_method_type,ms_iis_url,ms_iis_url_query<br> Insert new field name(s) to the line field names line taking into account the order. For instance in the sample line below a new field named new_iis_field was added to the list:<br>fields=ms_iis_date,ms_iis_time,ms_iis_server_ip,new_iis_field,ms_iis_method_type,ms_iis_url,ms_iis_url_query<br>&nbsp;<br><span style=\"font-weight: bold;\">Here are some simple example.</span><br>Let assume the following current configuration is functional and parses date (Data),&nbsp; time (Time) and&nbsp; s-ip (Server IP Address) fields from the log:<br><br><span style=\"font-weight: bold;\">fields=ms_iis_date,ms_iis_time,ms_iis_server_ip</span><br>&nbsp;<br><span style=\"font-weight: bold;\">ms_iis_date</span> will contains date (Data)<br><span style=\"font-weight: bold;\">ms_iis_time</span> will contains time (Time)<br><span style=\"font-weight: bold;\">ms_iis_server_ip</span> will contains s-ip (Server IP Address)<br>&nbsp;<br>Lets assime a new field namely Server Name&nbsp; should be added to the log. To do that, two things should be taken care of: <br>1.&nbsp; Enablement of that field in the IIS confugaration, and<br>2. The update of the fields= line in the agent configuration file <br>The important thing to keep in mind here is the position at which the field should be added to the fields= line. As the Server Name comes after Time and before Server IP Address fields, then&nbsp; the new field ms_iis_c-computername must be added as follows: <br><br><span style=\"font-weight: bold;\">fields=ms_iis_date,ms_iis_time,ms_iis_c-computername,ms_iis_server_ip</span></span><span><br><span style=\"font-weight: bold;\">ms_iis_date will</span> contains date (Data)<br><span style=\"font-weight: bold;\">ms_iis_time will</span> contains time (Time)<br><span style=\"font-weight: bold;\">ms_iis_c-computername</span> will contains c-computername (Server Name)<br><span style=\"font-weight: bold;\">ms_iis_server_ip</span> will contains s-ip (Server IP Address)<br>&nbsp;<br><span style=\"font-weight: bold;\">NOTE:</span> Once again, pay attention to the position of the to-be-added field in the fields= line to avoid parsing errors.<br></span><span></span>",
  "upgradeInstructions":"Changelog: v3.4<br>Added 'How to update agent group configuration for W3C custom fields' details under the 'Setup Instruction' section.<br><br>Changelog: v3.3<br>Separated agent group configuration for the IIS v7.x and IIS v8.x, v10 as default W3C Logging Files are different.<br><br>Changelog: v3.2<br>Support Client Original IP extraction if X-Forwarded-For is used.<br><br>Changelog: v3.1<br>Change chart type of \"General - Overview\" -&gt; \"All IIS events over time by method type\" and \"General - Information\" -&gt; \"IIs User Login\" widgets to avoid performance issue.",
  "icon":"iVBORw0KGgoAAAANSUhEUgAAAJAAAACQCAMAAADQmBKKAAACB1BMVEUAAAARj+kQkOgQkekRjugRjekPi+cQj+YAY5wAAAASkOr///9BkOr/+faA3P7///76//////xLkOr/+feOwPISkO1WkOrv/v9w0vz69vsSkO4Sle00kOomkOr1///c9f/n8PxBvfru6PZLsPQSpvRBp/Day+6htu7q///1/P/v+f/E8v+i6//1+P3I6fzC4fv//frv7/nu7Plwx/lBuPk1tPk1r/cmrff/9vb66fSwzfQSnvISlvLq2fASme+Aq+22r+qOnOrl///d///6/P/I+f+87f+V5v+d5P/R8P6I4P6A2P6/5vyw4fyp3Ptfx/v68vpoy/pMwfqV0PnO3/f/8vb16/bl4/bX3fYmqfaIxPVwvfW/zfN4vfPO0/JwuPKItvHl1vDa0fB4svBLpfASle+2wO6pvO41n+4mnO7fze2dsO1oput0n+ton+tjm+tLm+uInOpzlOpjkOrl/f/q+f+28/+w5v7O7P2i4P39+Pzv8vzf6fva6fvI4vtWxPu22/qO1vqV1frf4fei0ve21fap0faAxPb/7/XO2/VfvfVLtPVBsfUSqvWpyvT15fPv4fPq3/NBrfOIvPImofL15fGixPASkPDUye+pwO+ivO+VvO9Wqe9Boe+OtO6wt+2OsO1Woe3Uw+xfpuxwpey8t+tBneuprOqdoOqAmOpWlepBleo1leoPGT/qAAAACnRSTlMA893ZpYtWUgUC4lj8ewAAA5tJREFUeNrt3PdTE0EUwPFQRHwPTdAgLUgTEJCOKB0EEREUBKmCKAhYKIq99957713/SJkM8C655B7DOXs7w35/5A3DZ/YuwG0ya3MXGhIcFAAWFhAUHBJqm21xIEhQ4OJpzpJFIEmLlrhB0nimRO7rBRI1ddVCpbh/ZgoMtYWAVIXYgkGqgm1BIFVBtgCQqgAbSJYCKZACeaVAXArEpUBcCsSlQFwKxKVAXArEpUBcCsSlQFwKxKVAptr/duCJ0+nsH/j0F+YWD9q3LR3teQfZgR7TnR2JVFbnm4n/AVq9Bt3tZQbeJZ9EffmvXWZBMZtwuip+QJVmou/C+36bA63DmYrjuAHV4kC/2fvCzICicKYVy40HVEQ9GhY+ZAK0DGdaGmY8IM9a5Cp2iQRFId8egaB7DgZDl1kIKOI4elabVasH7RQHKkRtHe//AEBsSu/FY54rtFIASH9HJ40BNdjkQM33iAKVbcTZUsGz2MsOGokCFZHnAeiqOIHuHrqEgXbQb+Rq8FFydkZW3jCAMFDDnO5bgSD68oYwAKlAuZMAUoHsPwGkAuFNlwygRKTKQQJQlwOp5o/Wg17UoLbmVy6LQbAZPbN3VsZZClrvQO/sV55/ibMEREukR+WXjFkEKqtBP0XvGrcCBEUO9Ft+mkAQiY6i/06niQdBzCk0qH1cGIh6vMVAFP5BJIj+EzMgvRQIoipu+F+mb2JBZOrJifR91Y6IBlEp3b5Q5ZaACNUa771Ev6wBUSOtnuv02SoQFXFJC3pmPQigK1L7MC0BCAq1rzMZQFBPoGopQC0EOiwKNDL4ndnUFbpCd+MRMXoY/HRB7ArR5sej5eCzBsGvMtquyk0DH5WuoV1GIaBEpJJGwbuYTO0fMwEgr2egjkrw6GkmUlVCQIW654yvcTBdShNqyp0Us0Koy57Qdq3k/vXzGehRKggA0aYw21JRG+cxdXPy2H/AfEFbdT+XGRQ4kC8V5g3arltlblBaZ+K9IB6UqNlVNR5Qd+KNr9cQmACtXoXTHWAH1G0DUvsomAFBFO2D8wMqudH3vRSdBmAOBAXupUhayQx0xfY0pntrblUCmAZB7G6n8xAz8NO73qs55xISMs4knG0r6Z+AObTQPvuhQFMpEJcCcSkQlwJxKRCXAnEpEJcCcSkQlwJxKRCXAnEpEJcCcS0AkHSH2Uh33I90ByJJd2SUdIdqSXfsmHwHs8l3dJ10h/vJdfzhPwe0hL1UyYy+AAAAAElFTkSuQmCC"
}
